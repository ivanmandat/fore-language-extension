# Настройка конфигурации сервиса лицензирования

Настройка конфигурации сервиса лицензирования
-


# Настройка конфигурации сервиса лицензирования


Для настройки конфигурации [сервиса лицензирования](Licensing_Service.htm)
 используйте файл settings.json, расположенный в папке установки сервиса
 лицензирования по умолчанию:


	- /opt/foresight/licman в ОС Linux;


	- C:\Licman в ОС Windows.


Для применения изменения конфигурации сервиса лицензирования в файле
 settings.json в ОС Linux перезапустите службу licman.service:


sudo systemctl restart licman.service


## settings.json


Содержимое файла settings.json по умолчанию:


{

    "server": "localhost",

    "port": 8510

}


Файл settings.json состоит из основных и дополнительных полей.


### Основные поля


Для работы сервиса лицензирования с минимально необходимыми настройками
 задайте основные поля:


[![](../../Opened.gif)![](../../Closed.gif)secure](javascript:TextPopup(this))


	Параметры работы сервиса лицензирования по протоколу HTTPS. Поле
	 является контейнером и содержит следующие поля:


		- port. Номер порта,
		 по которому доступен сервис лицензирования по протоколу HTTPS.
		 По умолчанию: 8511;


		- key. Путь до закрытого
		 ключа сертификата сервера в формате PEM;


		- cert. Путь до сертификата
		 сервера в формате PEM.


	Пример поля:


	"secure":{

	    "port": 8511,

	    "key": "/opt/foresight/ssl/fp_licman_server_key.pem",

	    "cert": "/opt/foresight/ssl/fp_licman_server_cert.pem"

	}


	Для получения подробной информации о работе сервиса лицензирования
	 обратитесь к разделу «[Сервис лицензирования
	 и особенности его использования](Licensing_Service.htm)».


[![](../../Opened.gif)![](../../Closed.gif)server](javascript:TextPopup(this))


	IP-адрес или DNS-имя сервера лицензий. По умолчанию: localhost.


	Если порт сервера лицензий RMS отличается от порта по умолчанию
	 - 5093, то укажите параметры:


		- name. IP-адрес или
		 DNS-имя сервера лицензий;


		- port. Номер порта,
		 по которому доступен сервер лицензий.


	Например:


	"server": [{"name": "licenseServer",
	 "port": 5390}]


	Порт сервера лицензий Guardant постоянный - 3189, указание параметров
	 name и port
	 не требуется.


	При [настройке отказоустойчивости
	 сервера лицензий](Licensing_Service.htm#license_server) укажите массив, содержащий основной сервер лицензий
	 и сервера, которые будут использоваться в качестве резервных:


	"server": ["<IP-адрес
	 или DNS-имя основного сервера лицензий>", "<IP-адрес или DNS-имя резервного сервера
	 1>", ... , "<IP-адрес
	 или DNS-имя резервного сервера N>"]


	Первый заданный сервер является основным, следующие по порядку -
	 резервными. Подключение к резервным серверам происходит в порядке
	 следования.


[![](../../Opened.gif)![](../../Closed.gif)port](javascript:TextPopup(this))


	Номер порта, по которому доступен сервис лицензирования по протоколу
	 HTTP. По умолчанию: 8510.


### Дополнительные поля


Для расширения функциональности сервиса лицензирования задайте дополнительные
 поля:


[![](../../Opened.gif)![](../../Closed.gif)checkServerTime](javascript:TextPopup(this))


	Периодичность проверки доступности основного сервера лицензий в
	 секундах. По умолчанию: 1800 секунд.


	Доступность основного сервера лицензий проверяется, если настроена
	 его [отказоустойчивость](Licensing_Service.htm#license_server)
	 и выполнено подключение к резервному серверу.


	Примечание.
	 Актуально при активации продукта на базе [RMS](../RMS/Activation_Product_RMS.htm).


[![](../../Opened.gif)![](../../Closed.gif)logLevel](javascript:TextPopup(this))


	Вывод отладочной информации в процессе работы сервиса лицензирования:


		- false. По умолчанию.
		 Информация не выводится;


		- info. Выводится
		 краткая информация: тип запросов, операции и время их выполнения;


		- log. Выводится расширенная
		 информация о результатах выполнения операций.


	Примечание.
	 Значения info и log
	 задаются в кавычках.


	В ОС Linux отладочная информация записывается в файлы /var/log/licman/licman.log,
	 /var/log/licman/error.log, в ОС Windows - выводится в консоль при
	 запуске утилиты licman_guardant.exe/licman_rms.exe.


	Для получения подробной информации о возможных ошибках, возникающих
	 при работе с Guardant, обратитесь к [официальной
	 документации](https://dev.guardant.ru/pages/viewpage.action?pageId=71485820).


[![](../../Opened.gif)![](../../Closed.gif)serverTimeout](javascript:TextPopup(this))


	Время ожидания ответа от текущего сервера лицензий в секундах. По
	 умолчанию: 5 секунд.


	Если [настроена отказоустойчивость
	 сервера лицензий](Licensing_Service.htm#license_server) и текущий сервер недоступен по истечении заданного
	 времени, то будет выполнено автоматическое подключение к серверу,
	 следующему после текущего в массиве поля [server](#server).


	Примечание.
	 Актуально при активации продукта на базе [RMS](../RMS/Activation_Product_RMS.htm).


[![](../../Opened.gif)![](../../Closed.gif)workersCount](javascript:TextPopup(this))


	Количество параллельных процессов, которые обрабатывают запросы
	 между веб-приложением (BI-сервером)/настольным приложением и сервером
	 лицензий. По умолчанию: 10.


	Важно.
	 Количество параллельных процессов влияет на объём потребляемой оперативной
	 памяти.


### Пример


Пример файла settings.json:


{

    "server": "localhost",

    "logLevel": "log",

    "secure":{

        "port": 8511,

        "key": "/opt/foresight/ssl/fp_licman_server_key.pem",

        "cert": "/opt/foresight/ssl/fp_licman_server_cert.pem"

   }

}


См. также:


[Сервис
 лицензирования и особенности его использования](Licensing_Service.htm)


		Справочная
		 система на версию 10.9
		 от 18/08/2025,
		 © ООО «ФОРСАЙТ»,
