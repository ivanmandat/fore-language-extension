# Защита прикладных систем

Защита прикладных систем
-


# Защита прикладных систем


Для защиты прикладных систем, разработанных на основе продукта «Форсайт. Аналитическая платформа»,
 используются прикладные единицы лицензирования. Защита прикладной единицей
 лицензирования осуществляется по двум направлениям:


	- [защита исходных
	 кодов прикладной системы](ApplicationSystemLicensing.htm#protection) от редактирования конечным пользователем.
	 Для этих целей создается прикладная единица лицензирования, используется
	 у компании-разработчика и не передается конечным пользователям;


	- [защита использования
	 прикладной системы](ApplicationSystemLicensing.htm#customer). Для этих целей создается прикладная единица
	 лицензирования с определенными параметрами использования прикладной
	 разработки под конечного пользователя: количество одновременно работающих
	 пользователей, период использования прикладной разработки и другие
	 [параметры лицензии](Admin_Licensing_Variants.htm). При
	 открытии прикладной системы конечным пользователем выполняется запрос
	 валидных лицензий по [предопределенным](AboutFeatures.htm)
	 и прикладным единицам лицензирования. Защитить можно всю прикладную
	 систему, для этого выделяется одна прикладная единица лицензирования.
	 Если в прикладной системе можно выделить отдельные функциональные
	 блоки, то для защиты каждого рекомендуется использовать отдельную
	 прикладную единицу лицензирования.


Примечание.
 Защита прикладных систем доступна только при активации продукта на базе
 [RMS](RMS/Activation_Product_RMS.htm) без установки [сервиса
 лицензирования](Service/Licensing_Service.htm).


## Защита исходных кодов прикладной системы от
 редактирования


Для защиты исходных кодов прикладной системы от редактирования выделяется
 одна прикладная единица лицензирования.


Для получения прикладной единицы лицензирования и защиты исходных кодов
 прикладной системы:


	- Определите наименование прикладной единицы лицензирования. Наименование
	 должно состоять из цифр и букв латинского алфавита без пробелов в
	 диапазоне ASCII 32-127. Длина наименования должна быть не более 24
	 символов.


	- Обратитесь в техническую поддержку по адресу [support@fsight.ru](mailto:support@fsight.ru)
	 для заказа прикладной единицы лицензирования. В запросе укажите цель
	 использования прикладной единицы лицензирования и составленное наименование.
	 После чего техническая поддержка подготовит и выдаст прикладную единицу
	 лицензирования со специальной утилитой lsinit.exe, которая активирует
	 использование прикладной единицы лицензирования.


Важно.
 Полученная единица лицензирования не передается конечным пользователям.


	- Выполните [шаги
	 по защите объекта репозитория от редактирования](UiDevEnv.chm::/01_Development_Environment/Objects_protection.htm)
	 полученной прикладной единицей лицензирования.


	- После окончания разработки прикладной системы встройте запуск
	 утилиты lsinit.exe в процесс установки, если прикладная система устанавливается
	 инсталлятором. Если система устанавливается другим способом,
	 то перед ее использованием запустите утилиту lsinit.exe единожды на
	 каждом рабочем месте компании-разработчика. Производите запуск утилиты
	 под пользователем, который обладает правами администратора. Утилита
	 не визуальная и не выдает сообщений о результатах своей работы.


После выполнения действий исходные коды прикладной системы будут защищены
 от редактирования конечным пользователем.


## Защита использования прикладной системы


Защитить можно всю прикладную систему, для этого выделяется одна прикладная
 единица лицензирования. Если в прикладной системе можно выделить отдельные
 функциональные блоки, то для защиты каждого рекомендуется использовать
 отдельную прикладную единицу лицензирования.


Для получения прикладных единиц лицензирования и защиты использования
 прикладной системы:


	- Выделите в прикладной системе функциональные блоки, которые
	 будут лицензироваться отдельно. Функциональный блок может состоять
	 как из одной процедуры, так и из нескольких модулей среды разработки
	 продукта «Форсайт. Аналитическая платформа».


	- Определите набор прикладных единиц лицензирования. Составьте
	 наименования прикладных единиц лицензирования и сопоставьте их с выделенными
	 функциональными блоками. Наименования должны состоять из цифр и букв
	 латинского алфавита без пробелов в диапазоне ASCII 32-127. Длина наименования
	 должна быть не более 24 символов.


	- Обратитесь в техническую поддержку по адресу [support@fsight.ru](mailto:support@fsight.ru)
	 для заказа прикладных единиц лицензирования. В запросе укажите цель
	 использования прикладных единиц лицензирования и составленные наименования.
	 После чего техническая поддержка подготовит и выдаст прикладные единицы
	 лицензирования со специальной утилитой lsinit.exe, которая активирует
	 использование прикладных единиц лицензирования.


	- Вставьте проверку наличия лицензии по прикладной единице лицензирования
	 для каждого функционального блока с помощью метода [RequestLicense](KeSomHost.chm::/Interface/ILicenseManager/ILicenseManager.RequestLicense.htm).
	 Добавьте системные сборки: Forms, Host, Ui. Разместите на форме компонент
	 Button с наименованием «Button1». Для компонента «Button1» задайте
	 обработчик события OnClick и выполните пример [без
	 отладки](UiDevEnv.chm::/01_Development_Environment/02_Work_in_Development_Environment/Run_Debug.htm):


	Sub Button1OnClick(Sender: Object; Args: IMouseEventArgs);

	Var

	    LicManager: ILicenseManager;

	    Feature: String;

	    Lic: ILicense;

	    StatusCode: UiLicenseStatusCode;

	    Settings: IUiLicenseRequestSettings;

	Begin

	    LicManager := WinApplication.Instance.LicenseManager;

	    Feature := "ApplicationFeature";

	    Settings := New UiLicenseRequestSettings.Create;

	    Settings.ShowActivationWizard := True;

	    StatusCode := LicManager.RequestLicense(Feature, Lic, Settings);

	    If StatusCode = UiLicenseStatusCode.Success Then

	        Lic.LicenseUpdate;

	    Else

	        // обработка ошибок лицензирования

	        //...

	    End If;

	    //Работа с лицензируемым блоком

	    //...

	    //После завершения работы освобождаем лицензию

	    If Lic <> Null Then

	        Lic.LicenseRelease;

	    End If;

	End Sub Button1OnClick;


При нажатии на кнопку будет запрошена единица
 лицензирования «ApplicationFeature». В случае если она недоступна, будет
 выдан диалог «[Активация
 модуля](RMS/Intro_LicMngr_ActivateModule.htm)».


Примечание.
 Для проверки лицензии по прикладной единице лицензирования в веб-приложении
 вызывайте методы [RequestLicense](KeSomHost.chm::/Interface/ILicenseManager/ILicenseManager.RequestLicense.htm)
 и [LicenseRelease](KeSomHost.chm::/Interface/ILicense/ILicense.LicenseRelease.htm)
 через веб-сервис, используя операцию [ForeExec](PPSOMService.chm::/Operations/Repository/ForeExec.htm).


	- Встройте запуск утилиты lsinit.exe в процесс установки прикладной
	 системы, если она устанавливается инсталлятором. Если система
	 устанавливается другим способом, то перед ее использованием запустите
	 утилиту lsinit.exe единожды на каждом рабочем месте заказчика. Производите
	 запуск утилиты под пользователем, который обладает правами администратора.
	 Утилита не визуальная и не выдает сообщений о результатах своей работы.


	- Установите прикладную систему на стороне заказчика.


Примечание.
 Для избежания модификации исходного кода прикладной системы используйте
 дистрибутив [Standard](../02_AK_Install/DistributionKit.htm)
 на стороне заказчика или выделите одну прикладную единицу лицензирования
 для этих целей.


	- Получите лицензию для заказчика через техническую поддержку
	 по адресу [support@fsight.ru](mailto:support@fsight.ru)
	 с параметрами использования прикладной разработки: количество одновременно
	 работающих пользователей, период использования прикладной разработки
	 и другие [параметры лицензии](Admin_Licensing_Variants.htm).


	- Активируйте продукт «Форсайт. Аналитическая платформа»
	 и прикладную систему на стороне заказчика полученной лицензией. Для
	 активации автономной лицензией используйте [мастер
	 активации продукта](RMS/Intro_LicMngr_MasterActivation.htm). Для использования сетевой лицензии установите
	 сервер лицензий на базе [Guardant](Guardant/License_Server_Guardant.htm)
	 или [RMS](RMS/LicenseServer.htm).


После выполнения действий при работе прикладной системы будет выполняться
 проверка на наличие валидных лицензий по [предопределенным](AboutFeatures.htm)
 и прикладным единицам лицензирования.


См. также:


[Активация продукта «Форсайт. Аналитическая платформа»](Admin_Licensing.htm)


		Справочная
		 система на версию 10.9
		 от 18/08/2025,
		 © ООО «ФОРСАЙТ»,
