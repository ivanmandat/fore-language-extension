# Настройка конфигурации веб-приложения

Настройка конфигурации веб-приложения
-


# Настройка конфигурации веб-приложения


	Для корректной работы веб-приложения в папке установки серверной
	 части веб-приложения должны содержаться файлы конфигурации:


		- [PP.xml](#pp_xml).
		 Предназначен для настройки подключения к BI-серверу и указания
		 параметров веб-приложения;


		- [config.json](#config_json).
		 Предназначен для открытия инструментов и объектов репозитория
		 в веб-приложении.


	По умолчанию в папке установки серверной части веб-приложения содержатся
	 преднастроенные файлы конфигурации:


		- PP.xml и config.json в ОС Linux;


		- PPSample.xml, config.json и config-sample.json в ОС Windows.
		 Файлы PPSample.xml и config-sample.json используются в качестве
		 шаблонов и не влияют на работу веб-приложения. Создание и заполнение
		 файла PP.xml выполняется вручную на основе файла PPSample.xml.
		 Содержимое файлов config.json и config-sample.json совпадает.


	Примечание.
	 При обновлении веб-приложения содержимое файлов PPSample.xml и config-sample.json
	 может измениться. Для сохранения настроенной конфигурации используются
	 файлы PP.xml и config.json.


	Для применения изменения конфигурации веб-приложения в файлах PP.xml
	 и config.json [перезапустите серверную часть веб-приложения](Web_Server_Restart.htm).


## PP.xml


	Пути расположения файла PP.xml по умолчанию:


		- /opt/foresight/fp10.x-webserver/config
		 в ОС Linux;


		- C:\Program Files (x86)\Foresight\Analytics Platform 10.x Web Application\Config
		 в ОС Windows.


	Содержимое преднастроенных файлов
	 конфигурации PP.xml в ОС Linux и PPSample.xml в ОС Windows:


		ОС
		 Linux ОС Windows


			<?xml version="1.0" encoding="utf-8"?>

			<pp>

			    <proxy url="" />

			    <metabase id="" />

			    <serviceCM ParamsUrl="http://<текущий IP-адрес>:8110/fp10.x/r/#/settings"/>

			    <modules commonModulesUrl="http://<текущий IP-адрес>:8110/fp10.x/r/#">

			    </modules>

			</pp>


			<?xml version="1.0" encoding="utf-8"?>

			<pp>

			    <service url="http://<текущий IP-адрес>/FPBI_App_v10.x/axis2/services/PP.SOM.Som"
			 />

			    <metabase id="" />

			    <serviceCM ParamsUrl="http://<текущий IP-адрес>/FP_App_v10.x/r/#/settings"/>

			    <modules commonModulesUrl="http://<текущий IP-адрес>/FP_App_v10.x/r/#">

			    </modules>

			</pp>


	Файл PP.xml состоит из раздела <pp>, содержащего основные
	 и дополнительные дочерние разделы.


### Основные разделы


	Для работы веб-приложения с минимально необходимыми настройками
	 задайте основные разделы:


	Примечание.
	 Для настройки подключения к BI-серверу используйте раздел <service>
	 или <proxy>. Одновременное использование данных разделов недопустимо.


	[![](../../Opened.gif)![](../../Closed.gif)<service>](javascript:TextPopup(this))


		Параметры BI-сервера с возможностью выполнения запросов из браузера
		 напрямую, в обход серверной части веб-приложения.


		Раздел может содержать следующие атрибуты:


				 Атрибуты
				 Описание


				 url
				 Адрес, по которому располагается [BI-сервер](../UiWebSetup_TitlePage.htm),
				 в формате:


				http://<BI-сервер>:<номер порта>/FPBI_App_v10.x/axis2/services/PP.SOM.Som


				Где:


					- <BI-сервер>. IP-адрес
					 или DNS-имя сервера, на котором установлен BI-сервер;


					- <номер
					 порта>. Номер [порта](../../01_SysReq/EnviromentRequirements.htm#ports_and_protocols),
					 по которому доступен BI-сервер. По умолчанию используется
					 порт 8810
					 для ОС Linux, 80 для ОС Windows.


				Примечание.
				 Атрибут является обязательным.


				 timeout
				 Время ожидания выполнения запроса на стороне клиента
				 в миллисекундах. Если значение атрибута не задано или
				 установлено значение 0 или меньше 0, то будет использоваться
				 значение по умолчанию - 90000 мс.


				 foreExec
				 Определяет, разрешено ли выполнение макросов, написанных
				 на Fore, с помощью операции [ForeExec](PPSOMService.chm::/Operations/Repository/ForeExec.htm).
				 Допустимые значения:


					- true.
					 Разрешено выполнять макросы с помощью операции [ForeExec](PPSOMService.chm::/Operations/Repository/ForeExec.htm);


					- false. По
					 умолчанию. Выполнение макросов запрещено.

					В заголовке запросов будет формироваться специальный
					 параметр. Наличие данного параметра не является надежным
					 способом запрета выполнения макросов с помощью операции
					 [ForeExec](PPSOMService.chm::/Operations/Repository/ForeExec.htm).
					 Надёжным способом является использование параметра
					 Disallow в
					 [настройках реестра](BI_Server_Registry_Key.htm)
					 или файле [settings.xml](BI_Server_Settings_XML.htm).


		Пример раздела:


		<pp>

		    <service url="http://10.30.208.20:8810/FPBI_App_v10.x/axis2/services/PP.SOM.Som"
		 timeout="600000" foreExec="true"/>

		…

		</pp>


		В результате для работы веб-приложения будет использоваться
		 BI-сервер, расположенный по адресу http://10.30.208.20:8810/FPBI_App_v10.x/axis2/services/PP.SOM.Som.
		 Время ожидания запроса на стороне клиента - 600000 миллисекунд,
		 выполнение макросов с помощью операции [ForeExec](PPSOMService.chm::/Operations/Repository/ForeExec.htm)
		 разрешено. Запросы из браузера будут идти напрямую, в обход серверной
		 части веб-приложения.


	[![](../../Opened.gif)![](../../Closed.gif)<proxy>](javascript:TextPopup(this))


		Параметры BI-сервера с возможностью выполнения запросов
		 через серверную часть веб-приложения - PPService.axd.


		Раздел может содержать следующие атрибуты:


				 Атрибуты
				 Описание


				 url
				 Адрес, по которому располагается [BI-сервер](../UiWebSetup_TitlePage.htm),
				 в формате:


				http://<BI-сервер>:<номер порта>/FPBI_App_v10.x/axis2/services/PP.SOM.Som


				Где:


					- <BI-сервер>. IP-адрес
					 или DNS-имя сервера, на котором установлен BI-сервер;


					- <номер
					 порта>. Номер [порта](../../01_SysReq/EnviromentRequirements.htm#ports_and_protocols),
					 по которому доступен BI-сервер. По умолчанию используется
					 порт 8810
					 для ОС Linux, 80 для ОС Windows.


				Атрибут url
				 является обязательным, если используется веб-сервер IIS
				 на базе ОС Windows. Запросы через
				 PPService.axd будут перенаправляться на указанный BI-сервер.


				Если используется веб-сервер Apache2 на базе ОС Linux, то значение
				 атрибута url не
				 учитывается. Все запросы отправляются на PPService.axd.
				 Далее запросы перенаправляются в соответствии с настройками,
				 которые заданы в файле конфигурации Apache2. Параметры
				 подключения к BI-серверу содержатся в следующих файлах:


					- /etc/opt/foresight/fp10.x-webserver/envvars.
					 В переменной PP_SOM автоматически задаётся путь, по
					 которому располагается BI-сервер по умолчанию, при
					 установке серверной части веб-приложения:


				PP_SOM=http://<текущий IP-адрес>:8810/FPBI_App_v10.x/axis2/services/PP.SOM.Som


					- /etc/apache2-fp10.x-web/sites-available/webserver.conf
					 в Astra Linux, /etc/httpd-fp10.x-web/conf.d/00-virtualhost.conf
					 в РЕД ОС, Rocky Linux, /etc/httpd2-fp10.x-web/conf/sites-available/default.conf
					 в ALT Linux. В параметре ProxyPass используется переменная
					 PP_SOM и задан путь до PPService.axd:


				ProxyPass
				 /fp10.x/app/PPService.axd
				 ${PP_SOM} retry=1 acquire=3000 timeout=6000 Keepalive=On


		Пример раздела:


		<pp>

		    <proxy url="http://10.30.208.20:8810/FPBI_App_v10.x/axis2/services/PP.SOM.Som"/>

		…

		</pp>


		В результате работы веб-приложения запросы из браузера будут
		 идти через серверную часть веб-приложения к указанному BI-серверу.


	[![](../../Opened.gif)![](../../Closed.gif)<metabase>](javascript:TextPopup(this))


		Параметры репозитория.


		Раздел может содержать следующие атрибуты:


				 Атрибуты
				 Описание


				 id
				 Идентификатор репозитория.
				Примечание.
				 Атрибут является обязательным.


				В ОС Linux идентификатор репозитория задаётся в файле
				 [Metabases.xml](../../06_AK_Client_Config/Configuring_repository_list_in_the_system_registry.htm#metabase_xml_list).
				 В ОС Windows с помощью диалога «[Настройка
				 подключения к репозиторию](../../06_AK_Client_Config/UiNav_RepoConfig_repo1.htm)». Также в данном
				 диалоге должен быть установлен флажок «Для
				 всех пользователей на компьютере».


				Примечание.
				 Для репозитория на основе [SQLite](../../03_DB_Server_Config/Config_SQLite.htm)
				 работа с продуктом «Форсайт. Аналитическая платформа»
				 доступна только в [настольном
				 приложении](GetStarted.chm::/Desktop_and_web_application.htm) в однопользовательском режиме.


				 authentication
				 [Способ
				 авторизации](../Authentication/Authentication.htm). Допустимые значения:


					- Login.
					 По умолчанию. Парольная авторизация;


					- Domain.
					 Доменная авторизация;


					- IntegratedDomain.
					 Интегрированная доменная авторизация;


					- Guest.
					 [Гостевой
					 вход](../Authentication/Guest_login.htm).


				Примечание.
				 При авторизации в веб-приложении тип аутентификации определяется
				 настройками [BI-сервера](../UiWebSetup_TitlePage.htm).
				 Если в файле PP.xml в разделе <metabase> заданы
				 репозиторий по умолчанию с помощью атрибута id
				 и тип аутентификации с помощью атрибута authentication,
				 то для данного репозитория будет применяться заданный
				 тип аутентификации независимо от настроек BI-сервера.

				Для получения подробной информации о настройках BI-сервера
				 обратитесь к разделам «[Настройка
				 списка репозиториев](../../06_AK_Client_Config/Configuring_repository_list_in_the_system_registry.htm)», «[Конфигурация
				 и настройка](config_and_setting.htm)».


				 async
				 Определение способа отправления запросов на сервер.
				 Допустимые значения:


					- true. По
					 умолчанию. Запросы отправляются асинхронно;


					- false. Запросы
					 отправляются синхронно.


				Совет.
				 При работе с Apache PreFork на Astra Linux для интегрированной
				 доменной авторизации и мандатных меток безопасности в
				 текущей сессии рекомендуется использовать синхронные запросы.


				 sessionCookie
				 Определение переиспользования созданных сессий с
				 репозиторием. Допустимые значения:


					- true. По
					 умолчанию. Переиспользовать сессию, если она была
					 создана ранее. Необходимыми условиями для переиспользования
					 являются: корректные логин и пароль; сессия должна
					 существовать на сервере; существующая сессия была
					 создана именно для указанного пользователя;


					- false. Не
					 переиспользовать сессию, всегда создавать новую.


				 maxRequestSize
				 Максимальный размер [документа](UiNavObj.chm::/uinavobj_document.htm),
				 загружаемого в репозиторий, в байтах.


		Пример раздела:


		<pp>

		…

		    <metabase id="WAREHOUSE" authentication="Guest" sessionCookie="false"/>

		…

		</pp>


		В результате будет использоваться репозиторий с идентификатором
		 WAREHOUSE без переиспользования созданных сессий с репозиторием.
		 Для авторизации будет использоваться гостевой вход.


	[![](../../Opened.gif)![](../../Closed.gif)<serviceCM>](javascript:TextPopup(this))


		Настройки сервисных функций.


		Раздел может содержать следующие атрибуты:


				 Атрибуты
				 Описание


				 ParamsUrl


				 Адрес параметров репозитория в формате:


					- ОС Linux:


				http://<веб-сервер>:<номер порта>/fp10.x/r/#/settings


					- ОС Windows:


				http://<веб-сервер>:<номер порта>/FP_App_v10.x/r/#/settings


				Где:


					- <веб-сервер>.
					 IP-адрес или DNS-имя сервера, на котором установлена
					 серверная часть веб-приложения;


					- <номер
					 порта>. Номер [порта](../../01_SysReq/EnviromentRequirements.htm#ports_and_protocols),
					 по которому доступна серверная часть веб-приложения.
					 По умолчанию используется порт 8110
					 для ОС Linux, 80 для ОС Windows.


				Примечание.
				 Атрибут является обязательным.


		Пример раздела:


		<pp>

		…

		    <serviceCM ParamsUrl="http://10.30.208.20:8110/fp10.x/r/#/settings"/>

		…

		</pp>


		В результате в веб-приложении будут доступны параметры репозитория.


	[![](../../Opened.gif)![](../../Closed.gif)<modules>](javascript:TextPopup(this))


		Настройки объектов репозитория.


		Раздел может содержать следующие атрибуты:


				 Атрибуты
				 Описание


				 commonModulesUrl
				 Адрес настроек веб-приложения, которые позволяют
				 открывать инструменты и объекты репозитория:


					- ОС Linux:


				http://<веб-сервер>:<номер порта>/fp10.x/r/#


					- ОС Windows:


				http://<веб-сервер>:<номер порта>/FP_App_v10.x/r/#


				Где:


					- <веб-сервер>.
					 IP-адрес или DNS-имя сервера, на котором установлена
					 серверная часть веб-приложения;


					- <номер
					 порта>. Номер [порта](../../01_SysReq/EnviromentRequirements.htm#ports_and_protocols),
					 по которому доступна серверная часть веб-приложения.
					 По умолчанию используется порт 8110
					 для ОС Linux, 80 для ОС Windows.


				Примечание.
				 Атрибут является обязательным.


		Также раздел <modules> может содержать дочерние разделы
		 для дополнительной настройки инструментов продукта «Форсайт. Аналитическая платформа»:


				 Раздел
				 Описание


				 <dashboard>
				 Настройки инструмента «[Аналитические
				 панели](UIAdhoc.chm::/UiAdhoc_Purpose.htm)». Раздел <dashboard>
				 должен содержать один подраздел <reportBox>, описывающий
				 настройки инструмента. Подраздел <reportBox> может
				 содержать атрибуты:


					- ServicesPlugins.
					 Определяет, доступно ли использование [плагинов](UIAdhoc.chm::/Blocks/Plugins/Plugins.htm).
					 Допустимые значения:


						- true.
						 Плагины доступны;


						- false.
						 Плагины недоступны;


					- AutoLayoutByDefault.
					 Определяет [режим
					 компоновки панели](UIAdhoc.chm::/Document/Layout_mode.htm#layoutingmode) по умолчанию.
					 Допустимые значения:


						- true.
						 По умолчанию используется [автоматическое
						 размещение объектов](UIAdhoc.chm::/Document/Layout_mode.htm#automatic_placement);


						- false.
						 По умолчанию используется [ручное
						 размещение объектов](UIAdhoc.chm::/Document/Layout_mode.htm#manual_placement);


					- TimeSeries.
					 Определяет, доступна ли рабочая книга. Допустимые
					 значения:


						- true.
						 Рабочая книга доступна;


						- false.
						 По умолчанию. Рабочая книга недоступна;


					- ExpressReport.
					 Определяет, доступен ли экспресс-отчёт. Допустимые
					 значения:


						- true.
						 Экспресс-отчёт доступен;


						- false.
						 По умолчанию. Экспресс-отчёт недоступен.


					- ViewModeContextMenuOFF.
					 Определяет, доступно ли контекстное меню визуализаторов
					 при [просмотре](UIAdhoc.chm::/Launching.htm#open)
					 готовой аналитической панели. Допустимые значения:


						- true.
						 Контекстное меню недоступно;


						- false.
						 Контекстное меню доступно;


					- ViewModePreview.
					 Определяет, доступно ли открытие на [просмотр](UIAdhoc.chm::/Launching.htm#open)
					 готовой аналитической панели без отображения ленты
					 инструментов. Допустимые значения:


						- true.
						 Лента инструментов не отображается при открытии
						 на просмотр аналитической панели;


						- false.
						 По умолчанию. Лента инструментов отображается
						 при открытии на просмотр аналитической панели.


					- ClientPDFExport.
					 Определяет принцип [экспорта](UiAdhoc.chm::/Document/Export.htm)
					 аналитической панели в документ PDF (*.pdf). Допустимые
					 значения:


						- true.
						 В результирующем файле блоки аналитической панели
						 будут располагаться на одной странице и отображаться
						 так же, как в веб-приложении в момент экспорта;


						- false.
						 По умолчанию. В результирующем файле блоки аналитической
						 панели будут располагаться на отдельных страницах
						 и отображаться в соответствии с [параметрами
						 страницы](uiadhoc.chm::/document/block_baseprops.htm#params).


				 <timeSeries>
				 Настройки инструмента «[Анализ
				 временных рядов](UiDw.chm::/UiDw_Title.htm)». Раздел <timeSeries>
				 должен содержать один подраздел <reportBox>, описывающий
				 настройки инструмента. Подраздел <reportBox> может
				 содержать атрибуты:


					- isRExist. Определяет,
					 доступны ли [методы
					 R](UiDw.chm::/Workbook/CalculatedSeries/r_metods.htm) на вкладке «Вычисления»
					 ленты инструментов. Допустимые значения:


						- true.
						 Отчёт доступен;


						- false.
						 По умолчанию. Отчёт недоступен.


				 <rdsDict>
				 Настройки [справочника
				 НСИ](UiNavObj.chm::/reference_book/Master_RDS_reference_book/Master_RDS.htm). Раздел может содержать атрибуты:


					- RdsElementsMoveWarning.
					 Определяет отображение диалога подтверждения при перемещении
					 элемента справочника НСИ для предотвращения ошибочного
					 изменения структуры элементов:


						- true.
						 Диалог подтверждения отображается;


						- false.
						 По умолчанию. Диалог подтверждения не отображается,
						 при перемещении элемента выполняется автоматическое
						 сохранение изменений.


				Также управление отображением
				 диалога подтверждения осуществляется в справочнике НСИ,
				 открытом на [просмотр](UiNavObj.chm::/reference_book/Work/Work_Dictionary.htm#view),
				 с помощью флажка «[Подтверждать перемещения элемента](UiNavObj.chm::/reference_book/Work/Operations_Elements.htm#replace)»
				 в главном меню «Вид».
				 Если атрибут RdsElementsMoveWarning
				 принимает значение true,
				 то при открытии справочника НСИ флажок будет установлен
				 по умолчанию.


		Пример раздела:


		<pp>

		…

		    <modules>

		        <dashboard>

		            <reportBox
		 servicesPlugins="false" autoLayoutByDefault="false"
		 timeSeries="true" expressReport="false"/>

		        </dashboard>

		        <timeSeries>

		            <reportBox
		 isRExist="true"/>

		        </timeSeries>

		        <rdsDict RdsElementsMoveWarning="true"/>

		    </modules>

		…

		</pp>


		В результате для инструмента «Аналитические
		 панели» будут сделаны следующие настройки: недоступно создание
		 плагинов, по умолчанию используется ручной режим размещения объектов,
		 доступно создание рабочей книги и недоступно создание экспресс-отчёта.
		 Для инструмента «Анализ временных
		 рядов» доступны методы R. Для справочника НСИ отображается
		 диалог подтверждения при перемещении элемента.


#### Подключение пользовательских модулей


		Пользовательский модуль - это часть веб-приложения, написанная
		 прикладным разработчиком. Это может быть как новый инструмент,
		 так и форма обратной связи. Сам модуль должен быть написан в виде
		 html-страницы и скопирован в папку установки серверной части веб-приложения.
		 Также туда должны быть скопированы все файлы, необходимые для
		 работы модуля и созданные прикладным разработчиком.


		Название раздела для подключения пользовательского модуля может
		 быть любым.


		Раздел с настройками подключения пользовательского модуля должен
		 содержать следующие атрибуты и подразделы:


				 Атрибут/раздел
				 Описание


				 name
				 Название модуля, которое будет отображаться в окне
				 приветствия в веб-приложении.


				 resourceKey
				 Ключ ресурсов в файле App.resources.*.js, где * - буквенное
				 обозначение языка.


				 url
				 Путь к модулю относительно папки «S\App», где S - это
				 путь до места установки серверной части веб-приложения.


				 Visible
				 Признак того, что модуль отображается в окне приветствия
				 в веб-приложении. Допустимые значения:


					- 0. Модуль
					 отображается;


					- 1. Модуль
					 не отображается.


				 data
				 Тип модуля. Принимает значения элементов перечисления
				 [PP.App.ModuleType](dhtmlApp.chm::/Enums/ModuleType.htm).


				 classId
				 Идентификатор пользовательского класса объектов
				 модуля. Указывается в формате:


				classId="[&quot;<класс>&quot;]"


				Для просмотра идентификатора класса:


					- В настольном приложении в навигаторе объектов
					 выполните команду «Сервис > Параметры»
					 в главном меню.


					- В отобразившемся диалоге «Параметры»
					 перейдите на страницу «[Пользовательские метаданные](UiDevEnv.chm::/04_NavigatorSetting/Classes_Object/UiNav_Classes_Object.htm)».


					- На вкладе «Классы
					 объектов» выберите расширение.


					- Нажмите кнопку «Редактировать».


				В отобразившемся диалоге на вкладке «[Описание](UiDevEnv.chm::/04_NavigatorSetting/Classes_Object/ObjectsClasses.htm#create)»
				 в поле «Идентификатор»
				 будет указан идентификатор класса объектов расширения.


				Например:


				classId="[&quot;DATA_ENTRY_FORM_CLASS&quot;]"


				Вместо идентификатора класса может быть указано одно
				 или несколько значений перечисления [MetabaseObjectClass](KeSom.chm::/Enums/MetabaseObjectClass.htm)
				 в формате:


				classId="[<значение1>,
				 <значение2>, …, <значениеN>]"


				Например:


				ClassId: [4354, 3076]


				 actions
				 Действия, доступные для модуля в окне приветствия
				 в веб-приложении. Допустимые действия:


					- 0. Открытие
					 объекта;


					- 1. Создание
					 нового объекта;


					- 2. Импорт
					 данных.


				Действия указываются в квадратных скобках через запятую.
				 Например:
				actions="[0, 1]"


				 <images>
				 Раздел с настройками пиктограмм для модуля. Содержит
				 следующие подразделы:


					- <WelcomeScreenIcon>.
					 Настройки пиктограммы в окне приветствия. Размер пиктограммы
					 32x32 пикселя;


					- <AddressBarIcon>.
					 Настройки пиктограммы в адресной строке. Размер пиктограммы
					 16x16 пикселей;


					- <DocumentsIcon>.
					 Настройки пиктограмм для документов расширения в списке
					 недавних документов в окне приветствия. Размер пиктограммы
					 16x16 пикселей.


				Данные разделы содержат одинаковый набор атрибутов:


					- imageListId.
					 Идентификатор спрайта с изображениями;


					- rowIndex.
					 Индекс строки в спрайте, содержащей пиктограмму;


					- columnIndex.
					 Индекс столбца в спрайте, содержащего пиктограмму.


				Настройки спрайтов задаются в разделе <[imageLists](#imagelists)>.
				 Индексация изображений в спрайтах начинается с нуля.


Пример раздела:


<pp>

…

     <modules>

         <userRds name="Пользовательский
 НСИ"

             resourceKey="welcomeScreenRds"

             url="UserRds.html"

             data="4354"

             classId="[4354,
 3076]"

             Visible="1"

             actions="[0,1]">

             <images>

                 <WelcomeScreenIcon
 imageListId="userModules32" rowIndex="0" columnIndex="10"/>

                 <AddressBarIcon
 imageListId="userModules16" rowIndex="0" columnIndex="13"
 />

                 <DocumentsIcon
 imageListId="userModules16" rowIndex="0" columnIndex="13"
 />

             </images>

         </userRds>

     </modules>

     <imageLists>

         <userModules16
 source="../build/img/ribbon16.png" iconHeight="16"
 iconWidth="16"/>

         <userModules32
 source="../build/img/ribbon32.png" iconHeight="32"
 iconWidth="32"/>

     </imageLists>

…

</pp>


В результате в качестве пользовательского модуля будет подключен файл
 UserRds.html, расположенный в папке App с установленной серверной частью
 веб-приложения. Файл реализует пользовательскую версию инструмента для
 работы с НСИ. Для пиктограмм будут использоваться спрайты ribbon16.png
 и ribbon32.png из папки build с установленной серверной частью веб-приложения.


### Дополнительные разделы


	Для расширения функциональности веб-приложения задайте дополнительные
	 дочерние разделы:


	[![](../../Opened.gif)![](../../Closed.gif)<shareSettings>](javascript:TextPopup(this))


		Определяет, скрывать ли в аналитических панелях и экспресс-отчётах
		 раскрывающееся меню «Поделиться»
		 в главном меню и набор команд, доступных в данном меню.


		По умолчанию раскрывающееся меню «Поделиться»
		 отображается и содержит полный набор команд. Используйте раздел
		 <shareSettings> чтобы скрыть раскрывающееся меню «Поделиться» или какую-либо команду
		 из него.


		Раздел может содержать следующие атрибуты и подразделы:


				 Атрибут/раздел
				 Описание


				 enabled
				 Определяет, отображается ли раскрывающееся меню
				 «Поделиться» в
				 главном меню. Допустимые значения:


					- true.
					 Меню отображается;


					- false.
					 Меню не отображается.


				 <shareItem>
				 Раздел определяет доступность команд в меню «Поделиться». Каждая
				 команда соответствует одному веб-сервису. Раздел <shareSettings>
				 может содержать один или несколько разделов <shareItem>.


				Раздел <shareItem> должен содержать атрибуты:


					- name.
					 Наименование веб-сервиса. Допустимые значения:


						- LiveJournal;


						- GooglePlus;


					- enabled.
					 Определяет, доступна ли публикация данных в веб-сервис.
					 Допустимые значения:


						- true.
						 Публикация доступна;


						- false.
						 Публикация недоступна.


		Пример раздела:


		<pp>

		…

		     <shareSettings enabled="true">

		        <shareItem enabled="true"
		 name="GooglePlus"/>

		        <shareItem enabled="false"
		 name="LiveJournal"/>

		    </shareSettings>

		…

		</pp>


		В результате в главном меню будет отображаться раскрывающееся
		 меню «Поделиться», содержащее
		 команду «GooglePlus».


	[![](../../Opened.gif)![](../../Closed.gif)<export>](javascript:TextPopup(this))


		Настройки экспорта отчёта, построенного с помощью инструмента
		 «[Аналитические запросы (OLAP)](UIExpress.chm::/Express/UiExpress_Express_Export.htm)»,
		 «[Аналитические панели](UIAdhoc.chm::/Document/Export.htm)», «[Отчёты](uireport.chm::/desktop/Reports/OperationReport/UiReport_Reports_Operation_Export.htm)»
		 или «[Анализ временных рядов](UiDw.chm::/Workbook/Export_wbk.htm)», во внешние форматы.


		Примечание.
		 Если раздел не задан, то доступны все форматы экспорта.


		Раздел может содержать следующие атрибуты:


				 Атрибуты
				 Описание


				 ClientExportPng
				 Определение доступа к экспорту отчёта в формате
				 *.png для инструментов «[Аналитические запросы (OLAP)](UIExpress.chm::/Express/UiExpress_Express_Export.htm)»
				 и «[Анализ временных
				 рядов](UiDw.chm::/Workbook/Export_wbk.htm)».


				Допустимые значения:


					- true.
					 Экспорт отчёта в формате *.png доступен. В результирующем
					 файле содержимое отчёта будет отображаться так же,
					 как в веб-приложении в момент экспорта;


					- false.
					 По умолчанию. Экспорт отчёта в формате *.png недоступен.


				 hiddenFormats
				 Форматы экспорта, которые будут скрыты в главном
				 меню инструментов.


				 disabledFormats
				 Форматы экспорта, которые будут недоступны в главном
				 меню инструментов.


		Форматы экспорта задаются через запятую.


		Возможные форматы экспорта в атрибутах:


			- xls;


			- xlsx;


			- pdf;


			- rtf;


			- pptx;


			- html;


			- mht;


			- emf;


			- png. Используется только для инструментов «[Аналитические
			 панели](UIAdhoc.chm::/UiAdhoc_Purpose.htm)», «[Аналитические запросы (OLAP)](UIExpress.chm::/Express/UIExpress/purpose/UiExpress_Purpose.htm)»
			 и «[Анализ временных рядов](UiDw.chm::/UiDw_Title.htm)»;


			Примечание.
			 Экспорт аналитических панелей в формате *.png доступен независимо
			 от использования атрибута ClientExportPng.


			- ppcube. Используется только для инструмента «[Аналитические запросы (OLAP)](UIExpress.chm::/purpose/UiExpress_Purpose.htm)»;


			- ppexpress. Используется только для инструмента «[Аналитические запросы (OLAP)](UIExpress.chm::/purpose/UiExpress_Purpose.htm)»;


			- ppdash. Используется только для инструмента «[Аналитические
			 панели](UIAdhoc.chm::/UiAdhoc_Purpose.htm)».


		Пример раздела:


		<pp>

		…

		    <metabase id="WAREHOUSE"/>

		    <export hiddenFormats="ppexpress,ppcube"
		 disabledFormats="emf" ClientExportPng="true"/>

		…

		</pp>


		В результате выполнения примера:


			- в инструменте «[Аналитические запросы (OLAP)](UIExpress.chm::/Express/UIExpress/purpose/UiExpress_Purpose.htm)»
			 будут скрыты форматы экспорта *.ppexpress, *.ppcube, недоступен
			 экспорт в формат *.emf и дополнительно доступен экспорт в
			 формат *.png;


			- в инструментах «[Аналитические
			 панели](UIAdhoc.chm::/UiAdhoc_Purpose.htm)» и «[Отчёты](UIReport.chm::/UiReport_purpose.htm)»
			 будет недоступен экспорт в формат *.emf;


			- в инструменте «[Анализ
			 временных рядов](UiDw.chm::/UiDw_Title.htm)» будет недоступен
			 экспорт в формат *.emf и дополнительно доступен экспорт в
			 формат *.png.


	[![](../../Opened.gif)![](../../Closed.gif)<plugins>](javascript:TextPopup(this))


		Подключение дополнительных [плагинов](DataAnalysis.chm::/Plugins/Plugins.htm).
		 Для получения подробной информации о создании плагина обратитесь
		 к разделу «[Создание
		 плагина](DataAnalysis.chm::/Plugins/Create_Plugin.htm)».


		Раздел <plugins> может содержать один или несколько разделов
		 <plugin>, содержащих настройки подключения плагинов.


		Раздел <plugin> может содержать следующие атрибуты и подразделы:


				 Атрибут/раздел
				 Описание


				 name
				 Наименование плагина.


				 path
				 Путь к JS-файлу плагина относительно папки установки
				 веб-приложения.


				 css
				 Путь к CSS-файлу со стилями плагина относительно
				 папки установки веб-приложения.


				 loaded
				 Способ загрузки плагина:


					- true.
					 Плагин загружается сразу;


					- false. Плагин
					 загружается по требованию.


				Примечание.
				 Значение false
				 используется только при [подключении
				 плагина к аналитической панели](DataAnalysis.chm::/Plugins/Connecting_Plugins_Dashboards.htm).


				 type
				 Идентификатор плагина или тип картографического сервиса.


При подключении плагина к инструментам
				 идентификатор должен соответствовать типу экземпляра объекта:


					- PP.Ui.Dashboard.<наименование
					 плагина>.
					 При [подключении
					 плагина к аналитической панели](DataAnalysis.chm::/Plugins/Connecting_Plugins_Dashboards.htm);


					- PP.Ui.Prx.<наименование
					 плагина>.
					 При [подключении
					 плагина к регламентному отчёту и форме ввода](DataAnalysis.chm::/Plugins/Connecting_Plugins_Report.htm).


				При [подключении
				 внешних картографических сервисов к карте](DataAnalysis.chm::/Plugins/Connecting_External_Services.htm)
				 должен быть указан тип картографического сервиса:


					- PP.Yandex.
					 Для Яндекс-карты;


					- PP.Bing.
					 Для Bing-карты;


					- PP.ArcGis.
					 Для ArcGis-карты;


					- PP.OpenStreetMap.
					 Для OpenStreetMap-карты;


					- PP.Google.
					 Для Google-карты.


				 <params>
				 Раздел должен содержать раздел <param>
				 с атрибутами:


					- при подключении внешнего картографического сервиса
					 к карте:


						- name.
						 Значение «APIKey»;


						- value.
						 Значение ключа API.


				Примечание.
				 Атрибуты раздела задаются, если для плагинов внешних картографических
				 сервисов требуется использование ключа API.


					- при [подключении
					 пользовательских шаблонов диаграмм](DataAnalysis.chm::/Plugins/Custom/CustomDiagram.htm):


						- name.
						 Значение «ImagePath»;


						- value.
						 Относительный путь до файлов шаблонов *.svg.


		Пример раздела:


		<pp>

		…

		<plugins>

		    <plugin type="PP.Ui.Dashboard.MyLabel"
		 path="../plugins/MyLabel.js" css="../plugins/MyLabel.css"
		 loaded="false" name="MyLabel"/>

		    <plugin name="ExternalMapPlugin"
		 path="../build/ExternalMapPlugin.js" loaded="true"/>

		    <plugin name="YandexMapPlugin"
		 path="../build/YandexMapPlugin.js" type="PP.Yandex"/>

		    <plugin name="ArcGisMapPlugin"
		 path="../build/ArcGisMapPlugin.js" type="PP.ArcGis"/>

		    <plugin name="GoogleMapPlugin"
		 path="../build/GoogleMapPlugin.js" type="PP.Google">

		        <params>

		            <param
		 name="APIKey" value="AIzaSyCT36DH2CuXQ8GHtNSZASvoxQtbidhuWCU"/>

		        </params>

		    </plugin>

		</plugins>

		…

		</pp>


		В результате будут подключен плагин MyLabel.js к аналитической
		 панели. К карте будут подключены внешние картографические сервисы:
		 Яндекс, Bing, ArcGis, OpenStreetMap, Google. Для карт Google используется
		 ключ API.


	[![](../../Opened.gif)![](../../Closed.gif)<chart>](javascript:TextPopup(this))


		Настройки диаграмм.


		Раздел может содержать следующие атрибуты:


				 Атрибуты
				 Описание


				 animation
				 Определяет, будет ли при отрисовке диаграммы использоваться
				 анимация. Допустимые значения:


					- true.
					 Анимация используется;


					- false. По
					 умолчанию. Анимация не используется.


				 enableCanvas
				 Определяет, будет ли отображаться на боковой панели
				 флажок «[Масштабировать
				 ось категорий](uidiagrams.chm::/Params_diagram/UiDiagrams_params_diagram.htm#scaling)». Допустимые значения:


					- true.
					 Флажок отображается;


					- false. По
					 умолчанию. Флажок не отображается.


				 ShowLoadConfirm
				 Определяет, будет ли отображаться предупреждение
				 о возможной продолжительной загрузке, если диаграмма содержит
				 больше 10000 [точек
				 рядов данных](UiDiagrams.chm::/Tuning_format/Format_line/Data_Series_Point.htm). Допустимые значения:


					- true.
					 По умолчанию. Предупреждение отображается;


					- false. Предупреждение
					 не отображается.


		Пример раздела:


		<pp>

		…

		    <chart animation="true" enableCanvas="true"
		 ShowLoadConfirm="false"/>

		…

		</pp>


		В результате при отрисовке диаграммы будет использоваться анимация,
		 на боковой панели будет отображаться флажок «Масштабировать
		 ось категорий» и предупреждение о возможной продолжительной
		 загрузке не будет отображаться.


	[![](../../Opened.gif)![](../../Closed.gif)<tabSheet>](javascript:TextPopup(this))


		Настройки таблиц.


		Раздел может содержать следующие атрибуты:


				 Атрибуты
				 Описание


				 enableNativeContextMenu
				 Определяет, будет ли доступно для таблицы контекстное
				 меню браузера. Допустимые значения:


					- true.
					 Контекстное меню браузера доступно;


					- false.
					 По умолчанию. Контекстное меню браузера недоступно.


				 enableSelection
				 Определяет, будет ли доступно выделение ячеек таблицы
				 вручную. Допустимые значения:


					- true.
					 По умолчанию. Выделение доступно;


					- false.
					 Выделение недоступно.


		Пример раздела:


		<pp>

		…

		    <tabSheet enableNativeContextMenu="true"
		 enableSelection="false"/>

		…

		</pp>


		В результате в таблице будет доступно контекстное меню браузера
		 и недоступно ручное выделение ячеек.


	[![](../../Opened.gif)![](../../Closed.gif)<imageLists>](javascript:TextPopup(this))


		Настройки спрайтов.


		Спрайты используются при подключении пользовательских модулей
		 в разделе <modules>.


		Название раздела с настройками спрайта может быть любым. Данное
		 называние будет являться идентификатором спрайта и должно быть
		 уникальным.


		Раздел с настройками спрайта должен содержать следующие атрибуты:


				 Атрибут
				 Описание


				 source
				 Путь к спрайту относительно папки «S\App», где S
				 - это путь до места установки серверной части веб-приложения.


				 iconHeight
				 Высота пиктограмм в спрайте.


				 iconWidth
				 Ширина пиктограмм в спрайте.


Пример раздела:


<pp>

…

     <modules>

         <userRds name="Пользовательский
 НСИ"

             resourceKey="welcomeScreenRds"

             url="UserRds.html"

             data="4354"

             classId="[4354,
 3076]"

             Visible="1"

             actions="[0,1]">

             <images>

                 <WelcomeScreenIcon
 imageListId="userModules32" rowIndex="0" columnIndex="10"/>

                 <AddressBarIcon
 imageListId="userModules16" rowIndex="0" columnIndex="13"
 />

                 <DocumentsIcon
 imageListId="userModules16" rowIndex="0" columnIndex="13"
 />

             </images>

         </userRds>

     </modules>

     <imageLists>

         <userModules16
 source="../build/img/ribbon16.png" iconHeight="16"
 iconWidth="16"/>

         <userModules32
 source="../build/img/ribbon32.png" iconHeight="32"
 iconWidth="32"/>

     </imageLists>

…

</pp>


В результате в качестве пользовательского модуля будет подключен файл
 UserRds.html, расположенный в папке App с установленной серверной частью
 веб-приложения. Файл реализует пользовательскую версию инструмента для
 работы с НСИ. Для пиктограмм будут использоваться спрайты ribbon16.png
 и ribbon32.png из папки build с установленной серверной частью веб-приложения.


	[![](../../Opened.gif)![](../../Closed.gif)<embed>](javascript:TextPopup(this))


		Признак доступности [получения ссылки](UIAdhoc.chm::/Document/LinkToDashboard.htm) на аналитическую панель или на блок
		 из аналитической панели. Если получение ссылки доступно, то в
		 главном меню отображается команда «Поделиться
		 > Ссылка на документ», а в меню блока команда «Ссылка на блок».


		Совет. Рекомендуется
		 настроить [гостевой
		 вход](../Authentication/Guest_login.htm) для отображения встроенной аналитической панели
		 или блока из неё без запроса логина и пароля.


		Раздел может содержать следующие атрибуты:


				 Атрибуты
				 Описание


				 enabled
				 Признак доступности получения ссылки. Допустимые
				 значения:


					- true. Получение
					 ссылки доступно;


					- false.
					 По умолчанию. Получение ссылки недоступно.


		Пример раздела:


		<pp>

		…

		    <embed enabled="true" />

		…

		</pp>


		В результате в инструменте «Аналитические
		 панели» будет доступно получение ссылки на аналитическую
		 панель или ссылки на блок аналитической панели.


	[![](../../Opened.gif)![](../../Closed.gif)<font>](javascript:TextPopup(this))


		Настройки шрифтов, применяемые в инструменте «[Аналитические
		 панели](UIAdhoc.chm::/UiAdhoc_Purpose.htm)».


		Раздел может содержать следующие атрибуты:


				 Атрибуты
				 Описание


				 CustomFonts
				 Список пользовательских шрифтов, которые будут добавлены
				 и доступны для выбора при настройке оформления различных
				 элементов визуализаторов аналитической панели. Заданные
				 шрифты должны быть установлены на каждом компьютере пользователя.
				 По умолчанию доступны шрифты, установленные на [BI-сервере](General_for_linux/Loading_Custom_Fonts.htm).
				 При указании списка пользовательских шрифтов, установленных
				 на компьютере пользователя, будут недоступны шрифты, установленные
				 на BI-сервере.


				 DisabledFonts
				 Список шрифтов, которые будут исключены из списка
				 доступных при настройке оформления различных элементов
				 визуализаторов.


		Пример раздела:


		<pp>

		…

		    <font CustomFonts="Microsoft Sans
		 Serif, Segoe UI" DisabledFonts="Arial, Impact"
		 />

		…

		</pp>


		В результате при работе с инструментом «[Аналитические
		 панели](UIAdhoc.chm::/UiAdhoc_Purpose.htm)» в веб-приложении будут модифицированы
		 списки доступных для использования шрифтов. Будут добавлены шрифты
		 Microsoft Sans Serif, Segoe UI и исключена возможность выбора
		 шрифтов Arial, Impact.


		Список шрифтов, доступных по умолчанию:


		![](default_fonts.png)


		Список шрифтов после модификации с помощью раздела <font>:


		![](custom_fonts.png)


### Пример


	Пример файла PP.xml для работы
	 веб-приложения:


		ОС
		 Linux ОС Windows


			<?xml version="1.0" encoding="utf-8"
			 ?>

			<pp>

			    <proxy url="" />

			    <metabase id="WAREHOUSE"
			 />

			    <serviceCM ParamsUrl="http://10.7.0.100:8110/fp10.x/r/#/settings"/>

			    <modules commonModulesUrl="http://10.7.0.100:8110/fp10.x/r/#">

			    </modules>

			</pp>


			<?xml version="1.0" encoding="utf-8"
			 ?>

			<pp>

			    <service url="http://10.7.0.100/FPBI_App_v10.x/axis2/services/PP.SOM.Som"
			 />

			    <metabase id="WAREHOUSE"
			 />

			    <serviceCM ParamsUrl="http://10.7.0.100/FP_App_v10.x/r/#/settings"/>

			    <modules commonModulesUrl="http://10.7.0.100/FP_App_v10.x/r/#">

			    </modules>

			</pp>


## config.json


	Пути расположения файла config.json по умолчанию:


		- /opt/foresight/fp10.x-webserver/r/config
		 в ОС Linux;


		- C:\Program Files (x86)\Foresight\Analytics Platform 10.x Web Application\r\config
		 в ОС Windows.


	Содержимое преднастроенных файлов
	 конфигурации config.json в ОС Linux и config.json, config-sample.json
	 в ОС Windows:


		ОС
		 Linux ОС
		 Windows


			{

			  "targetRepo": "",

			  "serviceUrl": "http://<текущий IP-адрес>:8110/fp10.x/app/PPService.axd",

			  "locale": "ru",

			  "locales": ["ru"],

			  "title": "FAP10",

			  "baseUrl": "http://<текущий
			 IP-адрес>:8110/fp10.x/",

			  "themes": ["fap10"]

			}


			{

			  "targetRepo": "",

			  "serviceUrl": "http://<текущий IP-адрес>/FP_App_v10.x/app/PPService.axd",

			  "locale": "ru",

			  "locales": ["ru"],

			  "title": "FAP10",

			  "baseUrl": "http://<текущий
			 IP-адрес>/FP_App_v10.x/",

			  "themes": ["fap10"]

			}


	Файл config.json состоит из основных и дополнительных полей.


### Основные поля


	Для работы веб-приложения с минимально необходимыми настройками
	 задайте основные поля:


	[![](../../Opened.gif)![](../../Closed.gif)targetRepo](javascript:TextPopup(this))


		Идентификатор репозитория.


		В ОС Linux идентификатор репозитория задаётся в файле [Metabases.xml](../../06_AK_Client_Config/Configuring_repository_list_in_the_system_registry.htm#metabase_xml_list).
		 В ОС Windows с помощью диалога «[Настройка
		 подключения к репозиторию](../../06_AK_Client_Config/UiNav_RepoConfig_repo1.htm)». Также в данном диалоге
		 должен быть установлен флажок «Для
		 всех пользователей на компьютере».


		Примечание.
		 Идентификатор репозитория, заданный в качестве атрибута id в разделе <[metabase](#metabase)>
		 файла PP.xml, должен совпадать с идентификатором репозитория,
		 заданным в поле targetRepo.


	[![](../../Opened.gif)![](../../Closed.gif)serviceUrl](javascript:TextPopup(this))


		В ОС Linux укажите адрес веб-сервиса продукта «Форсайт. Аналитическая платформа»:


		http://<веб-сервер>:<номер порта>/fp10.x/app/PPService.axd


		Где:


			- <веб-сервер>.
			 IP-адрес или DNS-имя сервера, на котором установлена серверная
			 часть веб-приложения;


			- <номер
			 порта>. Номер [порта](../../01_SysReq/EnviromentRequirements.htm#ports_and_protocols),
			 по которому доступна серверная часть веб-приложения. По умолчанию
			 используется порт 8110.


		В ОС Windows значение поля зависит от разделов, заданных в PP.xml:


			- если задан раздел [<service>](#service),
			 то укажите адрес, по которому располагается [BI-сервер](../UiWebSetup_TitlePage.htm).
			 Значение поля должно совпадать со значением атрибута url в разделе <service>:


		http://<BI-сервер>:<номер
		 порта>/FPBI_App_v10.x/axis2/services/PP.SOM.Som


		Где:


				- <BI-сервер>. IP-адрес или
				 DNS-имя сервера, на котором установлен BI-сервер;


				- <номер
				 порта>. Номер [порта](../../01_SysReq/EnviromentRequirements.htm#ports_and_protocols),
				 по которому доступен BI-сервер. По умолчанию используется
				 порт 80.


			- если задан раздел [<proxy>](#proxy),
			 то укажите адрес веб-сервиса продукта «Форсайт. Аналитическая платформа»:


		http://<веб-сервер>:<номер
		 порта>/FP_App_v10.x/app/PPService.axd


		Где:


				- <веб-сервер>.
				 IP-адрес или DNS-имя сервера, на котором установлена серверная
				 часть веб-приложения;


				- <номер
				 порта>. Номер [порта](../../01_SysReq/EnviromentRequirements.htm#ports_and_protocols),
				 по которому доступна серверная часть веб-приложения. По
				 умолчанию используется порт 80.


	[![](../../Opened.gif)![](../../Closed.gif)baseUrl](javascript:TextPopup(this))


		Адрес веб-приложения:


			- ОС Linux:


		http://<веб-сервер>:<номер
		 порта>/fp10.x/


			- ОС Windows:


		http://<веб-сервер>:<номер
		 порта>/FP_App_v10.x/


		Где:


			- <веб-сервер>.
			 IP-адрес или DNS-имя сервера, на котором установлена серверная
			 часть веб-приложения;


			- <номер
			 порта>. Номер [порта](../../01_SysReq/EnviromentRequirements.htm#ports_and_protocols),
			 по которому доступна серверная часть веб-приложения. По умолчанию
			 используется порт 8110
			 для ОС Linux, 80 для ОС Windows.


### Дополнительные поля


	Для расширения функциональности веб-приложения задайте дополнительные
	 поля:


	[![](../../Opened.gif)![](../../Closed.gif)locale](javascript:TextPopup(this))


		Двухбуквенный код языка, который будет использоваться по умолчанию,
		 если указан массив для переключения языка интерфейса в поле locales.


	[![](../../Opened.gif)![](../../Closed.gif)locales](javascript:TextPopup(this))


		Массив, содержащий двухбуквенные коды языков, на которые может
		 быть переключён интерфейс:


			- ru. Русский
			 язык;


			- en. Английский
			 язык.


		По умолчанию в массив включён только один элемент, соответствующий
		 русскому языку. Если в массив добавить английский язык, то в [окне регистрации](GetStarted.chm::/GetStarted/Get_Started.htm)
		 будут доступны гиперссылки для переключения языка интерфейса.


	[![](../../Opened.gif)![](../../Closed.gif)title](javascript:TextPopup(this))


		Заголовок веб-приложения. По умолчанию поле принимает значение
		 «FAP10».


	[![](../../Opened.gif)![](../../Closed.gif)customization](javascript:TextPopup(this))


		Пользовательские настройки оформления веб-приложения при переключении
		 языка интерфейса.


		Поле является контейнером и может содержать поля:


			- ru. Русский
			 язык;


			- en. Английский
			 язык.


		Каждый код языка также является контейнером и может содержать
		 поля:


			- favicon. Относительный
			 путь до изображения с логотипом веб-приложения, который отображается
			 на вкладке браузера;


			- logo. Относительный
			 путь до изображения с логотипом веб-приложения, который отображается
			 в [окне регистрации](GetStarted.chm::/GetStarted/Get_Started.htm).


		Допустимые форматы изображений: *.ico, *.svg, *.png, *.bmp.


		Пример поля:


		"customization":{

		  "ru": {

		    "favicon":"assets/images/favicon.ico",

		    "logo":"assets/images/logo_ru.svg"

		  },

		  "en": {

		    "favicon":"assets/images/favicon.ico",

		    "logo":"assets/images/logo_en.svg"

		  }

		}


	[![](../../Opened.gif)![](../../Closed.gif)metabase](javascript:TextPopup(this))


		Параметры используемого репозитория. По умолчанию поле отсутствует.


		Поле является контейнером и может содержать следующие поля:


				 Поля
				 Описание


				 hideClasses
				 Массив, содержащий типы объектов, которые могут
				 быть скрыты в [навигаторе
				 объектов](GetStarted.chm::/Interface/Interface_Navigator.htm) и недоступны для использования.
				 Допустимые значения:


					- MetabaseObjectClass.RUBRICATOR.
					 База данных временных рядов;


					- MetabaseObjectClass.WORKBOOK.
					 Рабочая книга.


				По умолчанию поле не задано и объекты недоступны. Если
				 поле содержит пустое значение, то объекты доступны для
				 создания и работы с ними.


				 ping
				 Время, через которое выполняется проверка соединения
				 с BI-сервером в миллисекундах. По умолчанию используется
				 120000 миллисекунд.


		Пример поля:


		"metabase":{

		  "hideClasses": [],

		  "ping": 20000

		}


		В результате будет доступна работа с базой данных временных
		 рядов и рабочей книгой, а также изменено время, через которое
		 выполняется проверка соединения с BI-сервером.


	[![](../../Opened.gif)![](../../Closed.gif)modules](javascript:TextPopup(this))


		Поле является контейнером, в котором могут быть созданы несколько
		 подразделов c объектами заданного класса. Наименование подраздела
		 должно соответствовать числовому значению класса объекта, которое
		 можно получить в перечислении [MetabaseObjectClass](KeSom.chm::/Enums/MetabaseObjectClass.htm):


				 Поля
				 Описание


				 2562


				 Регламентный отчёт.


				 customization


				 Пользовательские настройки оформления регламентного
				 отчёта.


				 tabSheetCustomization


				 Пользовательские настройки оформления ячеек.


				 isCellPaddingLikeExcel


				 Признак автоматического добавления отступа размером
				 0.75 мм от границы ячейки до её содержимого. Применяется,
				 если содержимое ячейки [выровнено](uireport.chm::/Web/Table/Attribute/Format.htm#alignment)
				 по левому/правому краю и задан соответствующий отступ
				 размером 0 мм. Допустимые значения:


					- true.
					 Если отступ содержимого ячейки слева/справа задан
					 0 мм, то автоматически добавляется соответствующий
					 отступ размером 0.75 мм;


					- false.
					 По умолчанию. Размер отступа содержимого ячейки слева/справа
					 совпадает с размером, заданным в группе параметров
					 «[Формат ячеек](uireport.chm::/Web/Table/Attribute/Format.htm)»
					 на вкладке «Дополнительно».


				Примечание.
				 При [экспорте
				 отчёта](uireport.chm::/Web/Reports/OperationReport/UiReport_Reports_Operation_Export.htm) отображение отступов содержимого
				 ячеек в другом офисном приложении может отличаться от
				 отображения в «Форсайт. Аналитическая платформа».


				 3076


				 Справочник НСИ. Дополнительные настройки для работы
				 со [справочником
				 НСИ](uinavobj.chm::/reference_book/Work/Work_Dictionary.htm#rds) в старом интерфейсе. По умолчанию
				 поле отсутствует и справочник НСИ отображается в новом
				 интерфейсе.


				 url


				 Путь к странице справочника НСИ в формате:


				http://<текущий
				 IP-адрес>:8110/FP_App_v10.x/app/rds.html


				 urlSettings


				 Настройки параметров адресной строки, которые используются
				 для открытия справочника НСИ.


				 isClass


				 Указание параметра class со значением типа объекта.
				 Допустимые значения:


					- true.
					 Параметр class указывается в адресной строке;


					- false.
					 По умолчанию. Параметр class не указывается в адресной
					 строке.


				 isConnectionId


				 Указание параметра connectionId с моникёром открытой
				 сессии. Допустимые значения:


					- true.
					 Параметр connectionId указывается в адресной строке;


					- false.
					 По умолчанию. Параметр connectionId не указывается
					 в адресной строке.


				 isRepo


				 Указание параметра repo с наименованием текущего
				 открытого репозитория. Допустимые значения:


					- true.
					 Параметр repo указывается в адресной строке;


					- false.
					 По умолчанию. Параметр repo не указывается в адресной
					 строке.


				 actions


				 Действия, доступные для открытия справочника НСИ:


					- view.
					 Просмотр;


					- edit.
					 Редактирование.


				Например, если в поле задано только значение «view»,
				 то справочник НСИ будет открываться на просмотр в старом
				 интерфейсе, а на редактирование - в новом.


				 8448/2561


				 Аналитическая панель/Экспресс-отчёт.


				 customization


				 Пользовательские настройки оформления аналитической
				 панели/экспресс-отчёта.


				 ribbonAutoHiding


				 Признак автоматического скрытия ленты инструментов
				 при работе с инструментами в бизнес-приложении. Допустимые
				 значения:


					- true.
					 Скрывать ленту инструментов, отображать только названия
					 вкладок;


					- false.
					 Не скрывать ленту инструментов.


				 clientPDFExport


				 Признак определения принципа [экспорта](UiAdhoc.chm::/Document/Export.htm)
				 аналитической панели в документ PDF (*.pdf). Допустимые
				 значения:


					- true.
					 В результирующем файле блоки аналитической панели
					 будут располагаться на одной странице и отображаться
					 так же, как в конструкторе бизнес-приложений в момент
					 экспорта;


					- false.
					 Значение по умолчанию. В результирующем файле блоки
					 аналитической панели будут располагаться на отдельных
					 страницах и отображаться в соответствии с [параметрами
					 страницы](uiadhoc.chm::/document/block_baseprops.htm#params).


				 customFonts


				 Список пользовательских шрифтов, которые будут добавлены
				 и доступны для выбора при настройке оформления различных
				 элементов визуализаторов аналитической панели. Заданные
				 шрифты должны быть установлены на каждом компьютере пользователя.
				 По умолчанию доступны шрифты, установленные на [BI-сервере](General_for_linux/Loading_Custom_Fonts.htm).
				 При указании списка пользовательских шрифтов, установленных
				 на компьютере пользователя, будут недоступны шрифты, установленные
				 на BI-сервере.


				 plugins


				 Подключение дополнительных [плагинов](DataAnalysis.chm::/Plugins/Plugins.htm).
				 Для получения подробной информации о создании плагина
				 обратитесь к разделу «[Создание
				 плагина](DataAnalysis.chm::/Plugins/Create_Plugin.htm)». Поле содержит настройки подключения
				 плагинов:


					- name. Наименование
					 плагина;


					- path. Путь к JS-файлу
					 плагина относительно папки установки конструктора
					 бизнес-приложений;


					- id.
					 Идентификатор плагина или тип картографического сервиса.


				При подключении плагина к
				 инструментам идентификатор должен соответствовать типу
				 экземпляра объекта. При [подключении
				 плагина к аналитической панели](DataAnalysis.chm::/Plugins/Connecting_Plugins_Dashboards.htm) - PP.Ui.Dashboard.<наименование
				 плагина>.


				При [подключении
				 внешних картографических сервисов к карте](DataAnalysis.chm::/Plugins/Connecting_External_Services.htm)
				 должен быть указан тип картографического сервиса:


						- PP.Yandex.
						 Для Яндекс-карты;


						- PP.Bing.
						 Для Bing-карты;


						- PP.ArcGis.
						 Для ArcGis-карты;


						- PP.OpenStreetMap.
						 Для OpenStreetMap-карты;


						- PP.Google.
						 Для Google-карты.


					- css.
					 Путь к CSS-файлу со стилями плагина относительно папки
					 установки конструктора бизнес-приложений;


					- params.
					 Дополнительные параметры. Поле должно содержать поле
					 param
					 с параметрами:


						- при подключении внешнего картографического
						 сервиса к карте: name
						 - значение
						 «APIKey», value
						 - значение ключа API;


				Примечание.
				 Атрибуты раздела задаются, если для плагинов внешних картографических
				 сервисов требуется использование ключа API.


						- при [подключении
						 пользовательских шаблонов диаграмм](DataAnalysis.chm::/Plugins/Custom/CustomDiagram.htm):
						 name.
						 - значение «ImagePath», value
						 - относительный путь до файлов шаблонов *.svg.


				 chartLoadConfirm


				 Признак отображения предупреждения о возможной продолжительной
				 загрузке, если диаграмма содержит больше 10000 [точек
				 рядов данных](UiDiagrams.chm::/Tuning_format/Format_line/Data_Series_Point.htm). Допустимые значения:


					- true.
					 По умолчанию. Предупреждение отображается;


					- false.
					 Предупреждение не отображается.


		Пример настроек для регламентного
		 отчёта:


		"modules":
		 {

		 "2562": {

		   "customization": {

		     "tabSheetCustomization":
		 {

		       "isCellPaddingLikeExcel":
		 true

		     }

		   }

		 }

		}


		Пример настроек для справочника НСИ:


		"modules":
		 {

		  "3076": {

		    "url": "http://<текущий IP-адрес>:8110/FP_App_v10.x/app/rds.html",

		    "urlSettings": {

		      "isRepo": true,

		      "isConnectionId":
		 true,

		      "isClass": false

		    },

		    "actions": [

		      "view", "edit"

		    ]

		  }

		}


		Пример настроек для аналитической
		 панели:


		"modules": {

		  "8448": {

		    "customization":{

		      "ribbonAutoHiding":
		 true,

		      "clientPDFExport":
		 true,

		      "customFonts": "Microsoft
		 Sans Serif, Segoe UI",

		      "chartLoadConfirm":
		 false,

		      "plugins": [

		        {

		          "name":
		 "Test",

		          "path":
		 "../custom_plugins/test.js",

		          "css":
		 "../custom_plugins/test.css",

		          "id":
		 "PP.Ui.Dashboard.Test",

		          "params":
		 [

		            {

		              "name":
		 "APIKey",

		              "value":
		 "AIzaSyCT36DH2CuXQ8GHtNSZASvoxQtbidhuWCU"

		            }

		          ]

		        }

		      ]

		    }

		  },

		  "2561": {

		    "customization":{

		      ...

		    }

		  }

		}


		В результате при работе с аналитической
		 панелью в веб-приложении:


			- для ленты инструментов будет включено автоматическое
			 скрытие, на ней будут отображаться только названия вкладок;


			- в результирующем файле блоки аналитической панели будут
			 располагаться на одной странице и отображаться так же, как
			 в конструкторе бизнес-приложений в момент экспорта;


			- будут модифицированы списки доступных для использования
			 шрифтов. Будут добавлены шрифты Microsoft Sans Serif, Segoe
			 UI;


			- будет отключено отображение предупреждения о возможной
			 продолжительной загрузке диаграммы;


			- подключен дополнительный плагин с наименованием «Test».


		Список шрифтов, доступных по умолчанию:


		![](default_fonts.png)


		Список шрифтов после модификации с
		 помощью поля customFonts:


		![](custom_fonts_adhoc.png)


	[![](../../Opened.gif)![](../../Closed.gif)themes](javascript:TextPopup(this))


		Ключ темы веб-приложения. По умолчанию поле принимает значение
		 «fap10».


		Для создания пользовательской темы обратитесь к разделу «[Создание
		 пользовательской темы веб-приложения](../04_FAQ/Create_Custom_Web_Application_Theme.htm)».


		При указании массива ключей первая тема будет использоваться
		 по умолчанию:


		"themes": ["custom_theme",
		 "fap10"]


	[![](../../Opened.gif)![](../../Closed.gif)customThemesPath](javascript:TextPopup(this))


		Относительный путь до папки с [пользовательскими
		 темами веб-приложения](../04_FAQ/Create_Custom_Web_Application_Theme.htm). По умолчанию поле отсутствует, набор
		 тем содержится в папке:


			- /opt/foresight/fp10.x-webserver/r/themes
			 в ОС Linux;


			- C:\Program Files (x86)\Foresight\Analytics Platform
			 10.x
			 Web Application\r\themes в ОС Windows.


		Пример поля:


		"customThemesPath": "customThemes/dark"


	[![](../../Opened.gif)![](../../Closed.gif)externalJs](javascript:TextPopup(this))


		Массив относительных путей до внешних JS-файлов, функции которых
		 могут использоваться:


			- для выполнения команды «Вызов
			 функции JS» с помощью элемента управления «[Кнопка](UiAdhoc.chm::/Blocks/Controls/Button.htm)»
			 в [аналитической
			 панели](UiAdhoc.chm::/UiAdhoc_Purpose.htm);


			- для настройки действия [гиперссылки](uireport.chm::/web/Table/Attribute/Format.htm#hyperlink)
			 в [регламентном
			 отчёте](UiReport.chm::/UiReport_purpose.htm) и [форме
			 ввода](DataEntryForms.chm::/DataEntryForms_Purpose.htm);


			- для настройки действия, предобработчика, постобработчика
			 [пользовательской
			 кнопки](UiRepor.chm::/t/Web/Reports/Button/Button.htm), добавленной на панели инструментов
			 в регламентном отчёте и форме ввода;


			- для подписки на события веб-приложения:


				- при отрисовке [типа
				 страницы](dhtmlFAQ.chm::/FAQ/js_to_link.htm#signature): login, navigator или object;


				- при открытии объекта;


				- при открытии папки в навигаторе объектов.


		Заданные JS-файлы загружаются перед запуском веб-приложения.
		 По умолчанию поле отсутствует и никакие внешние JS-файлы не загружаются.


		Пример поля:


		"externalJs": [ { "src":
		 "./functions.js" } ]


		Для получения подробной информации о сигнатуре и подключении
		 js-функции обратитесь к разделу «[Подключение пользовательской
		 js-функции](dhtmlFAQ.chm::/FAQ/js_to_link.htm)».


	[![](../../Opened.gif)![](../../Closed.gif)helpUrl](javascript:TextPopup(this))


		Адрес [справочной
		 системы](uinav.chm::/02_Navigator/UiNav_RepoConfig_Help.htm). По умолчанию поле отсутствует и используется
		 адрес: https://help.fsight.ru/{0}/. В этом случае язык справочной
		 системы зависит от языка интерфейса, выбранного в [окне регистрации](GetStarted.chm::/GetStarted/Get_Started.htm).
		 Массив двухбуквенных кодов языков, на которые может быть переключён
		 интерфейс, определяется в поле locales.


		Для использования справочной системы на одном из языков задайте
		 адрес с указанием локали, например: https://help.fsight.ru/ru/.
		 В этом случае язык справочной системы не зависит от языка интерфейса.


	[![](../../Opened.gif)![](../../Closed.gif)kbpUrl](javascript:TextPopup(this))


		Адрес [серверной
		 части конструктора бизнес-приложений](../../Extensions/Backend_Designer_of_Business_Applications.htm) для открытия [мониторинга
		 процессов](BPM.chm::/Web/Starting/Monitoring_process_execution.htm) в веб-приложении. По умолчанию поле
		 отсутствует.


		Пример поля:


		"kbpUrl": "http://<IP-адрес бизнес-приложения>:<TCP-порт бизнес-приложения>/dba"


	[![](../../Opened.gif)![](../../Closed.gif)showVersion](javascript:TextPopup(this))


		Признак отображения версии веб-приложения в [окне регистрации](GetStarted.chm::/GetStarted/Get_Started.htm).
		 По умолчанию поле отсутствует и версия приложения отображается.


		Для скрытия версии веб-приложения задайте поле со значением
		 false:


		"showVersion": false


		Если поле отсутствует или содержит значение, отличное от false, то версия веб-приложения
		 отображается.


	[![](../../Opened.gif)![](../../Closed.gif)webSocketPort](javascript:TextPopup(this))


		Порт протокола WebSocket, через который будет осуществляться
		 работа c [веб-формами](UiDevEnv.chm::/01_Development_Environment/02_Work_in_Development_Environment/DevEnv_Object/Web_Form.htm).
		 По умолчанию поле отсутствует и используется порт 9091.


		Пример поля:


		"webSocketPort": "8080"


		Для настройки балансировщика HAProxy при использовании кластера
		 BI-серверов и веб-форм обратитесь к разделу «[Настройка
		 балансировщика HAProxy при использовании веб-форм](../01_BIServer/Cluster/HAProxy_settings.htm)».


	[![](../../Opened.gif)![](../../Closed.gif)globalSession](javascript:TextPopup(this))


		Поле определяет место хранения моникёров соединений с репозиториями.


		Допустимые значения:


			- true. Данные
			 сессии хранятся в локальном хранилище браузера (LocalStorage).
			 Моникёр соединения с репозиторием доступен на разных вкладках
			 браузера. Не поддерживается вход в один репозиторий под разными
			 пользователями одновременно в разных вкладках;


			- false. По умолчанию.
			 Данные сессии хранятся в хранилище сеансов браузера (SessionStorage).
			 На каждой вкладке открывается новое соединение. Ранее открытое
			 соединение из другой вкладки недоступно. Поддерживается вход
			 в один репозиторий под разными пользователями одновременно
			 в разных вкладках.


### Пример


	Пример файла config.json для
	 работы веб-приложения:


		ОС
		 Linux ОС
		 Windows


			{

			  "targetRepo": "WAREHOUSE",

			  "serviceUrl": "http://10.7.0.100:8110/fp10.x/app/PPService.axd",

			  "locale": "ru",

			  "locales": [

			    "ru",

			    "en"

			  ],

			  "title": "FAP10",

			  "baseUrl": "http://10.7.0.100:8110/fp10.x/"

			}


			{

			  "targetRepo": "WAREHOUSE",

			  "serviceUrl": "http://10.7.0.100/FP_App_v10.x/app/PPService.axd",

			  "locale": "ru",

			  "locales": [

			    "ru",

			    "en"

			  ],

			  "title": "FAP10",

			  "baseUrl": "http://10.7.0.100/FP_App_v10.x/"

			}


См. также:


[Установка
 BI-сервера](../UiWebSetup_TitlePage.htm) | [Настройка веб-приложения
 для работы через HTTPS](../04_FAQ/setting_https.htm) | [Открытие
 веб-приложения](Opening_Web_Application.htm)


		Справочная
		 система на версию 10.9
		 от 18/08/2025,
		 © ООО «ФОРСАЙТ»,
