# Настройка расчета формул

Настройка расчета формул
-


# Настройка расчета формул


При работе с таблицей доступна настройка расчёта вычислений по отредактированным
 данным без предварительного сохранения данных в источник. Включение настройки
 расчёта вычислений позволяет редактировать данные без сохранения в источник.


Настройка расчёта вычислений по отредактированным и не сохранённым данным
 применяется для:


	- [вычисляемых
	 элементов](../Work_with_dimensions/Edited_elements.htm);


	- [итогов по строкам и
	 столбцам](../Totals/Calculate_totals.htm);


	- [агрегированных
	 данных](UiNavObj.chm::/Cube/Agregation.htm).


Включение расчёта вычислений по отредактированным данным на ленте инструментов
 доступно:


	- в [регламентном
	 отчёте](UIReport.chm::/desktop/organizational_management/starting.htm) для среза данных на вкладке «Срез»;


	- в [экспресс-отчёте](UIExpress.chm::/purpose/UiExpress_Organizational_Starting.htm)
	 для листа на вкладке «Данные»;


	- в [аналитических
	 панелях](UIAdhoc.chm::/Launching.htm)
	 для блока на вкладке «Данные».


В раскрывающемся меню команды «Расчет
 формул» доступны следующие пункты меню:


	- для текущего листа/блока/среза;


	- для всех листов/блоков/срезов.


Примечание.
 По умолчанию настройка расчёта формул по отредактированным данным отключена.
 При отключенной настройке расчёт происходит только после сохранения данных
 в источник.


При выборе пункта меню «Для текущего
 листа/блока/среза» произойдёт включение настройки расчёта вычислений
 по отредактированным и не сохранённым данным для текущего листа/блока/среза.


Если не у всех листов/блоков/срезов включен флажок «Для
 текущего листа/блока/среза», то для флажка «Для
 всех листов/блоков/срезов» будет установлено промежуточное состояние
 ![](FormulaCalc.png).


При выборе пункта меню «Для всех листов/блоков/срезов»
 произойдёт включение настройки расчёта вычислений по отредактированным
 и не сохранённым данным для всех листов/блоков/срезов отчёта, при этом
 у всех листов/блоков/срезов автоматически включается флажок «Для
 текущего листа/блока/среза».


При выключении флажка «Для всех листов/блоков/срезов»
 автоматически выключается расчёт по отредактированным данным у всех листов/блоков/срезов
 отчёта, и у всех листов/блоков/срезов выключается флажок «Для
 текущего листа/блока/среза».


Настройка расчёта формул по отредактированным данным, заданная в аналитических
 панелях, влияет и на добавленные в него отчёты. Если в аналитических панелях
 включён расчёт по формулам по отредактированным данным и в таблице или
 диаграмме в отчете данные были изменены, то формулы элементов пересчитываются.


Для использования настройки расчёта формул без предварительного сохранения
 данных в экспресс-отчёте выполните шаги:


	- Создайте [экспресс-отчёт](UIExpress.chm::/purpose/UiExpress_Organizational_Starting.htm),
	 выберите источник данных и задайте отметку.


	- В ленте инструментов на вкладке
	 «Данные» нажмите команду «Расчет по формулам» и в раскрывающемся
	 меню выберите пункт «Для текущего
	 листа».


	- В ленте инструментов на вкладке
	 «Главная» выберите команду
	 «Итоги по столбцам» и в раскрывающемся
	 меню выберите «Сумма». После
	 выполнения шага в таблице появятся итоги по иерархиям «Сумма
	 (округ)», итоги по уровням «Сумма
	 (уровень)» и общий итог. В ячейках строк суммируются данные
	 из таблицы.


	- Добавьте новый вычисляемый элемент с наименованием «Среднее
	 значение по Приволжскому округу» для измерения «Территории»
	 с формулой:


Average({Чувашская Республика[t]},{Пермский
 край[t]},{Нижегородская область[t]},{Оренбургская область[t]},{Пензенская
 область[t]},{Самарская область[t]},{Саратовская область[t]}


Для настройки формулы вычисляемого элемента
 измерения будет открыто окно «[Редактор
 выражения](uinav.chm::/GUI/ExpressionEditor.htm)». После выполнения шага в измерении
 «Территории» добавляется новый
 вычисляемый элемент - «Среднее значение
 по Приволжскому округу», который высчитывает среднее общее значение
 некоторых регионов Приволжского федерального округа по всем годам.


	- При изменении значений в ячейках регионов Приволжского федерального
	 округа произойдёт перерасчёт данных по ранее заданной формуле в вычисляемом
	 элементе. Данные в строках «Сумма
	 (Округа)» и «Сумма (Уровень)»
	 так же пересчитываются по формуле в соответствии с внесёнными изменениями.


См. также:


[Работа с таблицей данных](UiAnalyticalArea.chm::/Table.htm) |
 [Работа с данными таблицы](Working_with_table_data.htm) | [Вычисляемые элементы](../Work_with_dimensions/Edited_elements.htm)


		Справочная
		 система на версию 10.9
		 от 18/08/2025,
		 © ООО «ФОРСАЙТ»,
