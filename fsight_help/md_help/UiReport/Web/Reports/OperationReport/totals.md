# Расчёт итоговых значений: Регламентный отчёт, веб-приложение

Расчёт итоговых значений: Регламентный отчёт, веб-приложение
-


# Расчёт итоговых значений


	Расчёт итоговых значений таблицы по столбцам и/или строкам и настройка
	 их отображения выполняются с помощью группы параметров «Итоги
	 по строкам»/«Итоги по столбцам».


	[![](../../../opened.gif)![](../../../closed.gif)Для открытия
	 группы параметров](javascript:TextPopup(this))


			- Выделите таблицу, ячейку или диапазон ячеек, принадлежащих
			 таблице.


			- Выполните действие:


				- для отображения итогов по столбцам:


					- установите флажок «Итоги
					 по столбцам» раскрывающегося меню кнопки ![](b_totals.png) «Итоги » вкладки
					 «Данные» панели
					 инструментов;


					- нажмите кнопку ![](../../Source/display_params.png) «Настройка» рядом
					 с флажком «Итоги»
					 группы параметров «[Размещение](../../Table/Attribute/Layout.htm)»
					 для типа области «Боковик»;


					- выполните команду «Данные >
					 ![](b_totals.png) Итоги > Итоги по
					 столбцам» главного меню;


				- для отображения итогов по строкам:


					- установите флажок «Итоги
					 по строкам» раскрывающегося меню кнопки ![](b_totals.png) «Итоги » вкладки
					 «Данные» панели
					 инструментов;


					- нажмите кнопку ![](../../Source/display_params.png) «Настройка» рядом
					 с флажком «Итоги»
					 группы параметров «[Размещение](../../Table/Attribute/Layout.htm)»
					 для типа области «Шапка»;


					- для отображения итогов по столбцам и/или команду
					 «Данные >
					 ![](b_totals.png) Итоги > Итоги по
					 строкам» главного меню для отображения итогов
					 по строкам.


	Для отображения/скрытия итогов для данного измерения установите/снимите
	 флажок «[Отображать
	 итог](../../Table/Attribute/Layout.htm#dimension)» в контекстном меню измерения.


	Для отображения итога для элемента измерения выполните команду «[Метод расчёта
	 итогов](totals.htm#element)» контекстного меню элемента.


	Набор настроек в группах параметров «Итоги
	 по строкам» и «Итоги по столбцам»
	 идентичен:


	![](totals_panel.png)


	Доступны следующие настройки:


		- [Типы итогов](#types);


		- [Параметры расчёта](#parameters);


		- [Строка вывода](#output).


## Типы итогов


	Выберите из раскрывающегося списка «Типы
	 итогов» один или несколько требуемых типов итогов:


		- Сумма. По умолчанию;


		- Среднее арифметическое;


		- Минимум;


		- Максимум;


		- Мода;


		- Медиана;


		- Дисперсия;


		- Среднеквадратическое отклонение;


		- Асимметрия;


		- Эксцесс;


		- Размах;


		- Коэффициент вариации;


		- Сумма квадратов;


		- Автокорреляция 1-го порядка;


		- Верхняя дециль;


		- Верхняя квартиль;


		- Нижняя квартиль;


		- Нижняя дециль;


		- Количество пустых ячеек;


		- Количество непустых ячеек.


	Итоговые значения выбранных типов будут автоматически рассчитаны.
	 Для сброса выбранных типов и скрытия итогов нажмите кнопку ![](../b_clear.png) «Очистить».


	[![](../../../opened.gif)![](../../../closed.gif)Примеры
	 итогов по столбцам и строкам](javascript:TextPopup(this))


		Пример итогов по столбцам:


		![](example_totals_columns.png)


		Пример итогов по строкам:


		![](example_totals_rows.png)


## Параметры расчёта


	После выбора [типов итоговых значений](#types) задайте
	 параметры их расчёта на вкладке «Параметры
	 расчёта»:


	[![](../../../opened.gif)![](../../../closed.gif)Рассматривать
	 пустые как нули](javascript:TextPopup(this))


		При установленном флажке пустые значения в ячейках будут рассматриваться
		 как нули. Это может быть важно, например, при вычислении средних
		 значений. По умолчанию флажок снят;


		Примечание.
		 Установка флажка не влияет на результат расчёта итоговых значений
		 типа «Количество пустых ячеек»
		 и «Количество непустых ячеек»,
		 а также на результат [расчёта базового
		 агрегата](status_string.htm) «Среднее»
		 в строке статуса.


		Пример неустановленного и установленного флажка:


		![](example_totals_standard_emptycells.png)   ![](example_totals_emptyasnulls.png)


	[![](../../../opened.gif)![](../../../closed.gif)Не учитывать
	 значения в вершинах](javascript:TextPopup(this))


		При установленном флажке не будут учитываться значения родительских
		 элементов иерархии. По умолчанию флажок снят.


	[![](../../../opened.gif)![](../../../closed.gif)Общий итог
	 / Промежуточный итог](javascript:TextPopup(this))


		Флажок «Общий итог»
		 определяет отображение общих итоговых значений по столбцам/строкам
		 таблицы, рассчитанных по всем элементам с установленной [отметкой](../Visualization.htm#selection_panel).
		 По умолчанию флажок установлен.


		Флажок «Промежуточный итог»
		 определяет отображение итоговых значений, расположенных по строкам/столбцам
		 таблицы. В зависимости от состояния флажков:


			- По иерархии.
			 Итоги рассчитываются по [иерархии
			 измерений](uinavobj.chm::/reference_book/Master_RDS_reference_book/base_settings.htm#hierarchy) боковика/шапки таблицы по каждому
			 элементу с установленной [отметкой](../Visualization.htm#selection_panel);


			- По уровням.
			 Итоги рассчитываются по [уровням
			 измерений](uinavobj.chm::/reference_book/Master_RDS_reference_book/Level.htm) боковика/шапки таблицы по каждому
			 элементу с установленной [отметкой](../Visualization.htm#selection_panel).


		Флажки «По иерархии»,
		 «По уровням» актуальны,
		 если в таблице отображаются элементы иерархического измерения
		 разных уровней иерархии.


		Примечание.
		 Если боковик/шапка таблицы состоит из нескольких иерархических
		 измерений, то при расчёте промежуточных итогов каждое следующее
		 левое/верхнее измерение берёт итог высшего уровня правого/нижнего
		 измерения.


		При установке данных флажков в наименованиях итоговых элементов
		 отображаются наименования родительских элементов иерархии и/или
		 наименования уровней соответственно. Флажки «По
		 иерархии» и «По уровням»
		 установлены по умолчанию.


		Примечание.
		 Если общий итог совпадает с промежуточным итогом по иерархии/уровням,
		 то рекомендуется отключить отображение общего итога во избежание
		 дублирования информации.


		Пример с установленными флажками «Общий
		 итог», «Промежуточный
		 итог» и «По иерархии»:


		![](example_totals_onhierarchy.png)


		Пример с установленными флажками «Общий
		 итог», «Промежуточный
		 итог» и «По уровням»:


		![](example_totals_onlevel.png)


	[![](../../../opened.gif)![](../../../closed.gif)Выводить
	 перед данными](javascript:TextPopup(this))


		При установленном флажке итоговые значения отображаются перед
		 ячейками с данными. По умолчанию флажок снят.


		Пример:


		![](example_totals_beforedata.png)


	[![](../../../opened.gif)![](../../../closed.gif)Рассчитывать
	 для одного элемента](javascript:TextPopup(this))


		При установленном флажке дополнительно будут рассчитываться
		 итоговые значения для элементов по каждому уровню и для элементов,
		 содержащих один столбец/строку. По умолчанию флажок снят.


		Пример неустановленного флажка:


		![](example_totals_oneelement_before.png)


		Пример установленного флажка:


		![](example_totals_oneelement.png)


## Строка вывода


	Если в таблице отображаются элементы иерархического измерения разных
	 уровней иерархии, то для вывода общего итога и/или итога иерархии
	 в строку родительского элемента задайте параметры на вкладке «Строка вывода»:


		- Общий итог. При
		 установленном флажке в строку родительского элемента будет выводиться
		 общее итоговое значение. По умолчанию флажок снят;


		- Итоги по иерархии.
		 При установленном флажке в строку родительского элемента будут
		 выводиться итоговые значения по иерархии. По умолчанию флажок
		 снят;


		- Тип итога. Из раскрывающегося
		 списка выбирается один из [типов итогов](#types), применённых
		 к таблице. Параметр доступен, если установлен флажок «Общий
		 итог» и/или «Итоги по
		 иерархии»;


		- Наименование элемента.
		 Из раскрывающегося списка выбирается тип отображения наименования
		 родительского элемента:


			- Исходный элемент.
			 Выводится наименование исходного элемента;


			- Метод итога.
			 Выводится наименование метода итога;


			- Комбинированное.
			 По умолчанию. Выводятся наименования исходного элемента и
			 метода итога.


	Параметр доступен, если установлен флажок
	 «Общий итог» и/или «Итоги по иерархии»;


		- Разделитель. В поле
		 задаётся разделитель между наименованиями элемента и метода итога.
		 По умолчанию в качестве разделителя установлена запятая - «,».
		 Параметр доступен, если установлен флажок «Общий
		 итог» и/или «Итоги по
		 иерархии» и выбран тип наименования «Комбинированное».


	[![](../../../opened.gif)![](../../../closed.gif)Примеры
	 отображения итогов в строке родительского элемента](javascript:TextPopup(this))


		Примеры отображения итогов в строке родительского элемента:


			- при установке флажка «Общий
			 итог», типа итога «Сумма»,
			 наименования элемента «Комбинированное»
			 и разделителя «,»:


		![](example_totals_output_combined.png)


			- при установке флажка «Итоги
			 по иерархии», типа итога «Сумма»
			 и наименования элемента «Метод
			 итога»:


		![](example_totals_output_method.png)


## Итог для элемента измерения


	Для настройки метода расчёта итогов элемента измерения, для которого
	 настроен расчёт итогов, выполните команду «Метод
	 расчёта итогов» контекстного меню элемента и выберите метод:


		- Нет. Итог для элемента
		 не будет рассчитываться;


		- Сумма;


		- Среднее;


		- Минимум;


		- Максимум;


		- Мода;


		- Медиана;


		- Дисперсия.


	Выбрать можно только один метод.


	Команда доступна для элементов измерений в шапке таблицы, если рассчитываются
	 итоги по столбцам; для элементов измерений в боковике таблицы, если
	 рассчитываются итоги по строкам.


	При использовании своего метода расчёта для элемента название итоговых
	 значений изменится на «Итог».


	Для возврата метода расчёта измерения для элемента выполните команду
	 «Метод расчёта итогов» >
	 «Сбросить» контекстного меню
	 элемента.


## Особенности расчёта


	Если для таблицы:


		- отмеченные элементы содержат идентификаторы различных единиц
		 измерения;


		- структура измерения, который включает эти элементы, соответствует
		 структуре [справочника
		 показателей](UiNavObj.chm::/Units/Units_Cube.htm#indicators);


		- куб не содержит [справочник единиц
		 измерения](UiNavObj.chm::/Units/Units_Cube.htm#units) и установлен флажок «[Не агрегировать разные единицы измерения](uinavobj.chm::/Cube/CreateCube/Master_Standart/UiMd_Cube_CreateCube_Master_Standart_7.htm#no_agr)»;


	то при расчёте итогов:


		- В области «Измерения»
		 напротив измерения, который включает эти элементы, будет отображаться
		 пиктограмма ![](../info.png) и всплывающая подсказка.


		- В расчётной ячейке вместо значения будет выведен символ
		 «-». Для изменения символа или текста используйте свойство [IPivot.UnmatchedUnitsText](kepivot.chm::/Interface/IPivot/IPivot.UnmatchedUnitsText.htm).
		 Для отображения символа или текста при расчёте итогов измерение
		 должно находиться в строках или столбцах.


	При включении [отображения
	 пиктограмм для вычисляемых ячеек](../../Table/Attribute/Parameters.htm#display_calc) в расчётной ячейке одновременно
	 будет выведено оба символа. По умолчанию «=-».


См. также:


[Визуализация
 данных в виде таблицы](../../Table/UiReport_tables_appointment.htm) | [Работа с данными
 в таблице](Work_with_data.htm)


		Справочная
		 система на версию 10.9
		 от 18/08/2025,
		 © ООО «ФОРСАЙТ»,
