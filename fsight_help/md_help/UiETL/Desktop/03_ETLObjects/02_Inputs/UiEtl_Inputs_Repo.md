# Источник данных «Репозиторий»: Задача ETL, настольное приложение

Источник данных «Репозиторий»: Задача ETL, настольное приложение
-


# Репозиторий


	Коннектор «Репозиторий»
	 - объект, предназначенный для извлечения данных из объектов текущего
	 репозитория.


	После добавления коннектора на рабочее пространство задачи ETL задайте
	 базовые свойства, источник данных в репозитории, настройки импорта.
	 Также можно отредактировать выход коннектора и задать параметры фильтрации
	 данных.


## Базовые свойства


В базовых свойствах задаются наименование объекта, идентификатор и примечание.


## ![](Repo/BaseProp.png)


## Выбор источника данных


	На странице «Источник данных» указывается
	 объект репозитория, из которого импортируются данные.


	![](Inputs_Document.gif)


	В качестве источника можно выбрать следующие объекты:


		- Справочник НСИ, составной справочник НСИ;


		- Наборы данных (таблица, присоединенная таблица, представление,
		 запрос, источник данных ODBC);


		- Журнал;


		- [Документ](UiNavObj.chm::/UiNavOb/UiNavObj_document.htm).


	В «Форсайт. Аналитическая платформа»
	 для таблиц, журналов и других базовых объектов доступна кнопка «Дополнительные настройки»,
	 позволяющая задать [настройки](additional_settings.htm),
	 которые используются при идентификации данных.


	Для объектов «[Документ](UiNavObj.chm::/UiNavOb/UiNavObj_document.htm)»,
	 в которые загружены внешние файлы с данными (например, файл Microsoft
	 Excel), вместо кнопки «Дополнительные
	 настройки» будет доступна
	 дополнительная страница «Настройка
	 импорта».


## Настройка импорта


	На странице «Настройка импорта»
	 задаются параметры, которые используются для определения диапазона
	 с данными.


	Данная страница отображается, если в качестве источника данных использован
	 объект репозитория «[Документ](UiNavObj.chm::/UiNavObj/UiNavObj_document.htm)»
	 с загруженным в него файлом.


	![](Import_Document.gif)


	Настройки зависят от типа источника данных и аналогичны импорту
	 из внешнего [источника данных](UiEtl_Inputs.htm) такого
	 же формата.


	Кнопка «Дополнительные настройки»
	 позволяет задать [дополнительные
	 настройки](additional_settings.htm), которые используются при идентификации данных.


	Кнопка «Просмотр данных»
	 предназначена для предварительного просмотра данных, отобранных по
	 запросу.


	Примечание.
	 При предварительном просмотре данных будут выведены только первые
	 сто строк источника.


## Редактирование выхода


На странице «Редактирование выхода»
 задаётся связь с объектом-приёмником, в который будут выгружаться данные
 при выполнении задачи ETL.


Примечание.
 Страница является общей для всех коннекторов и преобразователей данных,
 кроме преобразователей «[Разделение](../04_Transformers/01_Split/uietl_split.htm)»
 и «[Алгоритм пользователя](../04_Transformers/09_algorithm/UiEtl_Trfs_Algorithm.htm)». Рассмотрим
 настройку списка полей и связи выхода на примере мастера редактирования
 источника данных «[Репозиторий](UiEtl_Inputs_Repo.htm)».


![](../../Edit_output.PNG)


На странице доступны следующие настройки:


[![](../../../Opened.gif)![](../../../Closed.gif)Идентификатор](javascript:TextPopup(this))


	Укажите идентификатор выхода редактируемого объекта. Возможно использование
	 символов латинского алфавита, цифр и специального символа «_».


[![](../../../Opened.gif)![](../../../Closed.gif)Связь с объектом](javascript:TextPopup(this))


	Установите связь с объектом-приёмником, в который будут выгружаться
	 данные. Для этого из раскрывающегося списка выберите объект задачи
	 ETL.


[![](../../../Opened.gif)![](../../../Closed.gif)Поля](javascript:TextPopup(this))


	Поля объекта-приёмника, в которые будут выгружаться данные, предназначены
	 для определения формата вывода данных.


	Примечание.
	 Редактирование списка полей доступно только для коннекторов к источнику
	 данных. Для коннекторов к приёмнику данных список полей заполняется
	 автоматически.


	Для добавления в список всех полей из связанного объекта-приёмника:


		- Нажмите кнопку «Заполнить
		 из».


		- В раскрывающемся меню кнопки выберите пункт «Из приёмника».


	После выполнения действий в список полей будут добавлены все поля
	 из связанного объекта-приёмника данных.


	Для добавления в список всех полей из связанного объекта-источника:


		- Нажмите кнопку «Заполнить
		 из».


		- В раскрывающемся меню кнопки выберите пункт «Из
		 источника».


	После выполнения действий в список полей будут добавлены все поля
	 из связанного объекта-источника данных.


	Для добавления нового поля:


		- Нажмите кнопку «Добавить».
		 Будет открыто окно «Свойства
		 поля»:


	![](../../Field_properties.PNG)


		- Задайте в открывшемся окне значения атрибутов поля:


			- Идентификатор.
			 Укажите уникальный идентификатор поля. По умолчанию FIELD<Порядковый номер поля>;


			- Наименование.
			 Укажите наименование поля. По умолчанию FIELD<Порядковый
			 номер поля>;


			- Тип. Из раскрывающегося
			 списка выберите тип данных поля: строковый, целый, вещественный,
			 дата, текстовый. По умолчанию установлен строковый тип данных;


			- Вычисляемое поле.
			 Установите данный флажок для задания формулы, по которой будет
			 вычисляться значение поля. После установки флажка введите
			 выражение с помощью клавиатуры или [редактора выражений](UiNav.chm::/GUI/ExpressionEditor.htm),
			 который открывается при нажатии на кнопку ![](../../dots.gif)
			 «Обзор».

			Для увеличения значения каждой новой записи на фиксированную
			 величину используйте специальное выражение INCREMENT.


	Примечание.
	 Специальное выражение INCREMENT
	 доступно только для вычисляемого поля целого типа.


	Синтаксис данного выражения: INCREMENT[Value1,
	 Value2], где Value1 - начальное значение, Value2 - шаг, на который
	 значение Value1 должно увеличиваться при каждом вызове выражения.
	 При каждой загрузке данных заполнение будет начинаться с начального
	 значения.


		- Нажмите кнопку «ОК».


	После выполнения действий будет добавлено новое поле.


	Для редактирования поля:


		- дважды щёлкните по полю кнопкой мыши;


		- выделите необходимое поле и нажмите кнопку «Редактировать».


	После выполнения действий будет открыто окно «Свойства
	 поля», приведённое выше.


	Для удаления выбранного поля нажмите кнопку «Удалить».
	 Поле будет удалено без подтверждения выполняемого действия.


	Для изменения порядка выгрузки данных в коннектор выделите необходимое
	 поле и переместите его в списке полей с помощью кнопок ![](../01_GeneralMastersPagers/UiEtl_EtlObj_EditInput_2.gif)
	 «Вверх» и ![](../01_GeneralMastersPagers/UiEtl_EtlObj_EditInput_3.gif)
	 «Вниз».


## Управление параметрами


	На странице «Управление параметрами»
	 задаются формулы, по которым будут вычисляться значения для параметров
	 вложенных объектов. Используется, если источник репозитория является
	 параметрическим объектом.


	![](Repo/ParamControls.png)


	Установка значений параметров производится в окне «[Редактор
	 выражения](UiNav.chm::/GUI/ExpressionEditor.htm)», которое вызывается двойным щелчком
	 на выбранном параметре. В качестве выражений могут выступать параметры
	 самой задачи ETL, константы, либо более сложные конструкции.


	Примечание.
	 Вкладка не доступна, если в качестве источника выбран документ репозитория.


## Фильтрация


На странице «Фильтрация» задаётся
 условие, в соответствии с которым будут отбираться импортируемые данные.


Примечание.
 Страница является общей для всех коннекторов к источникам данных, кроме
 коннектора «[Источник
 пользователя](Uietl_Inputs_User.htm)». Рассмотрим настройку фильтрации данных источника на
 примере мастера редактирования источника данных «[Репозиторий](UiEtl_Inputs_Repo.htm)».


![](../../Filtration.PNG)


Для формирования условия фильтрации нажмите кнопку ![](../../dots.gif)
 «Обзор». Будет открыто окно [редактора выражения](UiNav.Chm::/GUI/ExpressionEditor.htm).
 Для составления выражения доступны все поля источника. Импортированы будут
 те данные, которые удовлетворяют заданному условию.


См. также:


[Начало
 работы с инструментом «Задача ETL» в веб-приложении](../../../Web/01_General_Info/UiETL_StartingToWork.htm) | [Коннекторы к исходным данным](UiEtl_Inputs.htm)


		Справочная
		 система на версию 10.9
		 от 18/08/2025,
		 © ООО «ФОРСАЙТ»,
