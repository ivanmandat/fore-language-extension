# Запуск планировщика задач с заданными параметрами

Запуск планировщика задач с заданными параметрами
-


# Запуск планировщика задач с заданными параметрами


Планировщик задач продукта «Форсайт. Аналитическая платформа»
 может быть запущен вручную из командной строки с заданными параметрами.


Важно. Планировщик
 задач и [BI-сервер](Setup.chm::/UiWebSetup/UiWebSetup_TitlePage.htm)
 рекомендуется запускать на разных серверах.


Запуск планировщика задач с заданными параметрами выполняется после
 [создания конфигурационного
 файла](../1_Work_AppSrv/UiAppSrv_Work_AppSrvXml.htm) и отличается в зависимости от используемой ОС.


	 ОС Linux ОС Windows

		В ОС Linux запустите планировщик задач из командной строки,
		 выполнив команду:


		DISPLAY=:987 ./Scheduler [-<Параметры>]


		[![](../Opened.gif)![](../Closed.gif)Особенности
		 запуска планировщика задач в ОС Linux](javascript:TextPopup(this))


			Перед запуском планировщика задач в ОС Linux:


				- Удостоверьтесь, что в файле [registry.reg](Setup.chm::/UiWebSetup/03_Setup_Web/config_and_setting.htm)
				 или [Metabases.xml](Setup.chm::/06_AK_Client_Config/Configuring_repository_list_in_the_system_registry.htm#metabase_xml_list)
				 указана схема, для которой запускается планировщик задач.


				- Настройте вывод лога выполнения планировщика задач
				 в консоль при необходимости с помощью команды:


			export PP_LOG=1


				- Укажите сервер лицензии планировщика задач с помощью
				 команды:


			export LSHOST=<имя сервера>


				- Установите требуемые настройки локализации для корректной
				 работы планировщика задач с датами с помощью команды:


			export LANG=<настройка локализации>


			Например, для работы планировщика
			 с российским форматом дат команда должна иметь вид:


			export LANG=ru_RU.UTF-8


				- Отключите [пул
				 соединений](setup.chm::/uiwebsetup/01_biserver/poolconnections.htm) для закрытия соединения
				 с базой данных.


			После выполнения действий запустите планировщик задач.


		В ОС Windows запустите планировщик задач из командной строки,
		 выполнив команду:


		Scheduler.exe [-<Параметры>]


Важно. При
 запуске нескольких планировщиков задач на разных компьютерах или виртуальных
 машинах убедитесь, что контейнер запланированных задач настроен на запуск
 только в одном планировщике задач. Если в одном планировщике задач указаны
 настройки запуска [нескольких
 контейнеров](../1_Work_AppSrv/configure_file_manual_extend.htm#config_structure), то запуск данных контейнеров должен выполняться в рамках
 одной базы данных.


## Параметр запуска


Параметры запуска планировщика задач отличаются в зависимости от используемой
 ОС.


	 ОС Linux ОС Windows

		В ОС Linux используются параметры:


			- -d. Признак
			 запуска в режиме службы. Укажите абсолютный путь расположения
			 scheduler.xml. Например:


		DISPLAY=:987
		 ./Scheduler -d /opt/foresight/fp10.x-biserver/bin/scheduler.xml


			- -p. Параметр
			 для определения пользовательской папки создания pid-файла.
			 Укажите желаемый путь расположения pid-файла. Если параметр
			 не задан, то он создаётся в папке /var/run. Параметр используется
			 только с параметром -d.
			 Например:


		DISPLAY=:987
		 ./Scheduler -p /var/tmp -d /opt/foresight/fp10.x-biserver/bin/scheduler.xml


			- -x. Признак
			 отключения перенаправления вывода отладочной информации планировщика.
			 Параметр актуален для использования только вместе с параметром
			 -d. По умолчанию отладочная
			 информация будет записываться в файл /var/log/syslog. Если
			 параметр -x задан,
			 то используется стандартный поток вывода, который определяется
			 способом запуска планировщика:


				- при запуске из
				 консоли - стандартным потоком вывода будет сама
				 консоль;


				- при запуске службы
				 системы инициализации systemd - стандартным потоком
				 вывода будет файл /var/log/syslog или файл, переопределённый
				 с помощью параметра StandardOutput.


		DISPLAY=:987
		 ./Scheduler -dx /opt/foresight/fp10.x-biserver/bin/scheduler.xml


		В ОС Windows используются параметры:


			- Instance. Запуск
			 экземпляра планировщика задач с указанием файла настроек.


		По умолчанию конфигурационный файл
		 планировщика задач называется [Scheduler.xml](../1_Work_AppSrv/UiAppSrv_Work_AppSrvXml.htm).
		 Если необходимо запустить планировщик задач с другим конфигурационным
		 файлом, выполните команду:


		Scheduler.exe
		 –Instance <name>


		где name - наименование конфигурационного
		 файла, указанное без расширения «xml». Например:


		Scheduler.exe
		 -Instance Test


		После выполнения данной команды будет
		 запущен экземпляр планировщика задач, настроенный на конфигурационный
		 файл Test.xml;


			- Silent. Не уведомлять
			 об уже запущенном планировщике задач с указанными настройками.


		Для запуска планировщика задач без
		 уведомления об ошибке об уже запущенном планировщика задач с указанными
		 настройками используйте параметр Silent.
		 Например:


		Scheduler.exe
		 -Instance Test -Silent


		После выполнения команды будет запущен
		 планировщик задач с настройками, которые хранятся в файле Test.xml.
		 Если планировщик задач с такими настройками уже запущен, то новый
		 экземпляр планировщика задач не будет запущен, сообщение об ошибке
		 не будет отображено;


			- MultipleInstances.
			 Отключение блокировки запуска нескольких экземпляров [планировщика
			 задач](../1_Work_AppSrv/UiAppSrv_Work_AppSrvXml.htm), настроенных на один конфигурационный файл. Актуально
			 только для серверных операционных систем.


		Для запуска экземпляра [планировщика
		 задач](../1_Work_AppSrv/UiAppSrv_Work_AppSrvXml.htm) в рамках текущей серверной операционной системы, если
		 процесс уже запущен в рамках какой-либо другой параллельной сессии,
		 используйте параметр MultipleInstances.
		 Например:


		Scheduler.exe
		 -Instance Test –MultipleInstances


		После выполнения команды будет запущен
		 экземпляр планировщика задач, настроенный на конфигурационный
		 файл Test.xml. При повторном выполнении команды может быть запущен
		 еще один экземпляр планировщика задач в рамках другой сессии.


		Параметры могут использоваться совместно.


См. также:


[Запуск
 задач на выполнение](../1_Work_AppSrv/UiAppSrv_Work_Run.htm) | [Создание
 конфигурационного файла](../1_Work_AppSrv/UiAppSrv_Work_AppSrvXml.htm)


		Справочная
		 система на версию 10.9
		 от 18/08/2025,
		 © ООО «ФОРСАЙТ»,
