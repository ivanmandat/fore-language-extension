# Требования к наличию топоосновы

Требования к наличию топоосновы
-


# Требования к наличию топоосновы


Для работы с картой в репозиторий должна быть [загружена
 топооснова](#addmap).


Топооснова - это файл в формате TBS или [SVG](Specifications.chm::/SVGMapSpecification/SVGMap_Intro.htm),
 который при загрузке в репозиторий конвертируется в различные форматы.
 Нужный формат выбирается автоматически в зависимости от того, где используется
 топооснова и какие настройки для неё выбраны. Для отображения данных используется
 топооснова, [заданная
 по умолчанию](UiNav.chm::/02_Navigator/Repo_Default.htm)
 в текущем репозитории.


В топооснове картографические данные содержатся в виде набора слоёв.
 Каждый слой описан специальными атрибутами и представляет собой отдельный
 класс картографических данных. Например, слой с координатами городов
 или слой, описывающий контуры государств.


В комплекте с продуктом «Форсайт. Аналитическая платформа»
 могут поставляться необходимые топоосновы.


Примечание.
 В топооснове указаны, в том числе, значения [атрибутов
 геопривязки](Specifications.chm::/SVGMapSpecification/Structure/BaseElements/fs_Geo_element.htm), которые влияют на совпадение границ накладываемых
 карт при [подключении
 внешних картографических сервисов](DataAnalysis.chm::/Plugins/Connecting_External_Services.htm) в веб-приложении.
 При возникновении проблем с геопривязкой обратитесь к статье «[Решение
 проблем с геопривязкой при подключении внешних сервисов](DataAnalysis.chm::/Plugins/Problems_geolocation.htm)».


## Операции с топоосновой


[![](../Opened.gif)![](../Closed.gif)Загрузка
 топоосновы в репозиторий](javascript:TextPopup(this))


	Для загрузки топоосновы в [навигаторе
	 объектов](GetStarted.chm::/Interface/Interface_Navigator.htm):


		- в веб-приложении:


			- Нажмите кнопку ![](add_button.png) «Создать»
			 в главном меню.


			- Выберите объект ![](map_create.png) «Карта»
			 на боковой панели «[Новый
			 объект](UiNav.chm::/02_Navigator/General_Principles_of_Work.htm#add_object)»;


		- в настольном приложении:


			- нажмите кнопку «Новый
			 объект > Другие > Карта» в группе «Создать»
			 на вкладке «Главная»
			 [ленты
			 инструментов](GetStarted.chm::/Interface/Interface_Description.htm#customize_ribbon);


			- выполните команду «Создать
			 > Другие
			 > Карта» в контекстном меню навигатора объектов.


	После выполнения действий будет открыт стандартный диалог для выбора
	 файла. Выберите файл топоосновы с расширением *.tbs или *.svg. Перед
	 загрузкой файла топоосновы с расширением *.svg предварительно [подготовьте
	 SVG-топооснову](Specifications.chm::/SVGMapSpecification/Prepare_SVG_topobase.htm).


	Примечание.
	 При загрузке топооснова автоматически конвертируется. Если топооснова
	 была загружена в репозиторий, используя средства АК «Прогноз-5», то
	 выполните её [конвертацию](#convertmap).


[![](../Opened.gif)![](../Closed.gif)Выбор
 топоосновы по умолчанию](javascript:TextPopup(this))


	Для репозитория может быть выбрана [топооснова по умолчанию](UiNav.chm::/02_Navigator/Repo_Default.htm).
	 Она будет использоваться для отображения карты во всех отчётах. При
	 работе с отчётом можно изменить топооснову, используемую по умолчанию,
	 на любую другую топооснову.


	Выбор топоосновы по умолчанию также доступен с помощью [языка Fore](KeTopobase.chm::/samples/ketopobase_sample2.htm).


	Примечание.
	 Выбор топоосновы по умолчанию доступен только в настольном приложении.


[![](../Opened.gif)![](../Closed.gif)Загрузка
 данных топоосновы из файла](javascript:TextPopup(this))


	Для замены данных топоосновы выполните команду «Загрузить
	 из файла» в контекстном меню карты в навигаторе объектов.


	После выполнения действия будет открыт стандартный диалог для выбора
	 файла. Выберите файл топоосновы с расширением *.tbs или *.svg, данные
	 из которого должны быть загружены в текущую топооснову.


[![](../Opened.gif)![](../Closed.gif)Сохранение
 данных топоосновы в файл](javascript:TextPopup(this))


	Для сохранения данных топоосновы в файл с расширением *.tbs или
	 *.svg в навигаторе объектов:


		- в веб-приложении выполните команду «Сохранить
		 в файл > SVG/TBS» в контекстном меню топоосновы. После
		 чего начнётся автоматическая загрузка файла с выбранным расширением;


		- в настольном приложении выполните команду «Сохранить
		 в файл» в контекстном меню топоосновы. После чего будет
		 открыт стандартный диалог для сохранения файла на локальном диске.
		 Выберите расширение, в котором будет сохранён файл, и месторасположение.


[![](../Opened.gif)![](../Closed.gif)Конвертация
 топоосновы](javascript:TextPopup(this))


	При загрузке топоосновы в репозиторий автоматически происходит её
	 конвертация.


	Конвертация топоосновы вручную необходима, если:


		- карта была загружена в репозиторий, используя средства АК
		 «Прогноз-5»;


		- на карте не работает масштабирование, не отображается временная
		 линия и недоступен 3D режим.


	Для конвертации топоосновы выполните команду «Сконвертировать
	 топооснову» в контекстном меню топоосновы в навигаторе объектов.
	 Топооснова карты будет сконвертирована в следующие форматы:


		- [SVG](Specifications.chm::/SVGMapSpecification/SVGMap_Intro.htm)/TBS. Формат зависит от используемой
		 топоосновы;


		- Triangulate. Формат
		 предназначен для использования 3D карт;


		- Google. Формат предназначен
		 для подключения внешних картографических сервисов, таких как Google
		 Maps, Bing и прочих;


		- Sphere. Формат предназначен
		 для поддержки сферических карт в виде глобуса.


	Примечание.
	 В веб-приложении конвертация топоосновы доступна только в форматы
	 SVG и TBS.


	Также конвертация топоосновы доступна с помощью метода [ITopobase.Convert](KeTopobase.chm::/Interface/ITopobase/ITopobase.Convert.htm).


См. также:


[Основные
 требования для работы с картой](Requirements.htm)


		Справочная
		 система на версию 10.9
		 от 18/08/2025,
		 © ООО «ФОРСАЙТ»,
