# Агрегация (модель)

Агрегация (модель)
-


# Агрегация


Данный метод применяется, если для моделируемых переменных настроена
 [агрегация](../../../2_3_1_Value/UiModelling_Work_object_Value_3.htm).


Примечание.
 Метод «Агрегация» доступен, если
 моделирование и прогнозирование работает в [режиме
 на переменных](../../../../../1_Modelling/Start_Modelling.htm).


При выборе данного метода не отображается панель «Спецификация»
 и другие дополнительные панели.


Модель с использованием данного метода необходима при расчете задачи,
 если получаемые данные необходимо агрегировать, либо дезагрегировать.
 Например: данные по полугодиям необходимо просуммировать для годовой динамики
 или данные по годовой динамике нужно распределить по месяцам.


## Пример использования метода «Агрегация»


Для примера создайте следующие объекты:


	- входная переменная;


	- выходная переменная;


	- стандартная модель «Сумма»;


	- стандартная модель «Агрегация»;


	- стандартная модель «Итоги»;


	- метамодель;


	- задача моделирования.


Переменная «Входная» содержит
 данные по полугодиям. Для данной переменной настроена агрегация по годовой
 динамике: данные с полугодовой динамики агрегируются и записываются на
 годовую динамику. Данная переменная преобразуется с помощью детерминированного
 уравнения в модели «Сумма».


Для демонстрации метода выгрузим агрегированные данные по годам в переменную
 «Выходная». Для этого создадим
 модель детерминированного уравнения «Итоги»
 и поместим её в конец цепочки расчета задачи.


Если не использовать модель с методом «Агрегация»
 между моделями «Сумма» и «Итоги» при расчете задачи, то годовая
 динамика в переменной «Выходная»
 будет пустая.


### Переменная «Входная»


На панели «Описание» введите
 наименование: «Входная».


На панели «Структура» в группе
 «Динамика» установите флажки:
 «Годовая», «Полугодовая».


На панели «Агрегация» настройте
 агрегацию для календаря. Выберите календарь и нажмите кнопку «Добавить».
 Будет открыто окно «Настройка основного
 механизма агрегации»:


![](../agr%20value1.gif)


В поле «Уровень» укажите «Годы». В поле «Метод»
 укажите метод агрегации «Сумма»,
 в качестве уровня-источника - «Полугодия».


На панели «Способ наполнения данными»
 установите переключатель «Вручную»
 и нажмите кнопку «Просмотреть данные».
 В открывшемся экспресс-отчёте заполните переменную данными по полугодиям.
 Внесенные данные сохраните в базу.


### Переменная «Выходная»


На панели «Описание» введите
 наименование: «Выходная».


На панели «Структура» в группе
 «Динамика» установите флажок «Годовая».


### Стандартная модель «Сумма»


На панели «Описание» введите
 наименование: «Сумма».


На панели «Периоды расчета»
 в поле «Динамика» укажите «Полугодовая».


На панели «Параметры» в качестве
 моделируемой укажите переменную «Входная».
 Вид модели - «Детерминированное уравнение».


На панели «Спецификация» нажмите
 кнопку «Добавить». В открывшемся
 окне укажите переменную «Входная».
 Задайте лаг для данной переменной: нажмите кнопку «Фиксация».
 В открывшемся окне укажите значение «-1».


В поле «Уравнение» введите выражение:
 «X1+10».


### Стандартная модель «Агрегация»


На панели «Описание» введите
 наименование: «Агрегация».


На панели «Периоды расчета»
 в поле «Динамика» укажите «Годовая».


На панели «Параметры» в качестве
 моделируемой укажите переменную «Входная».
 Вид модели - «Агрегация».


### Стандартная модель «Итоги»


На панели «Описание» введите
 наименование: «Итоги».


На панели «Периоды расчета»
 в поле «Динамика» укажите «Годовая».


На панели «Параметры» в качестве
 моделируемой укажите переменную «Выходная».
 Вид модели - «Детерминированное уравнение».


На панели «Спецификация» нажмите
 кнопку «Добавить». В открывшемся
 окне укажите переменную «Входная».


В поле «Уравнение» введите выражение:
 «X1».


### Метамодель


На панели «Описание» введите
 наименование: «Модель».


На панели «Цепочка расчета»
 с помощью кнопки «Добавить», создайте
 следующую цепочку:


	- Модель «Сумма».


	- Модель «Агрегация».


	- Модель «Итоги».


![](../agr%20metamodel.gif)


### Задача моделирования


На панели «Описание» введите
 наименование: «Задача моделирования».


На панели «Тип задачи» в поле
 «Метамодель» укажите созданную
 метамодель, в поле «Тип задачи»
 - «Задача прогнозирования».


На панели «Сценарии» создайте
 сценарий, нажав на кнопку «Добавить».
 Наименование сценария - «Базовый сценарий».


На панели «Периоды» задайте
 периоды идентификации и прогнозирования:


![](../agr%20problem%20period.gif)


Запустите расчет задачи, нажав кнопку ![](../../../2_3_4_Problem/panel_problem.gif). В открывшемся
 окне нажмите кнопку «Запустить».


### Результат


Просмотр данных переменных осуществляется в экспресс-отчёте. Для его
 открытия нажмите на кнопку «Просмотреть
 данные» на панели «Способ наполнения
 данными».


Переменная «Выходная» будет
 содержать только годовые данные. Переменная «Входная»
 будет содержать как годовые, так и полугодовые данные.


См. также:


[Спецификация](../UiModelling_Model_Specification.htm)


		Справочная
		 система на версию 10.9
		 от 18/08/2025,
		 © ООО «ФОРСАЙТ»,
