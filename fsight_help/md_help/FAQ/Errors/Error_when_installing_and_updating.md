# Проблемы при установке и обновлении

Проблемы при установке и обновлении
-


# Проблемы при установке и обновлении


При установке, обновлении в отдельных
 случаях могут возникать различные проблемы. Ниже описаны наиболее распространенные
 из них, а также причины их появления и пути решения.


## Проблемы
 при установке


[![](../opened.gif)![](../closed.gif)Не
 удается открыть файл базы данных. «Системная ошибка - 2147287035»
 ](javascript:TextPopup(this))


	Проблема


	В процессе установки или удаления «Форсайт. Аналитическая платформа»
	 появляется следующее сообщение об ошибке:


	Ошибка «База данных:
	 <путь к файлу в формате *.ipi>. Не удается открыть файл базы
	 данных. Системная ошибка -2147287035»/«Database: <путь к файлу
	 в формате *.ipi>. Cannot open database file. System error -2147287035».


	Причина


	Возможные причины:


		- Были изменены пользовательские переменные в окружении TEMP
		 и TMP.


		- Были установлены неправильные разрешения для папки, содержащей
		 один из устанавливаемых файлов.


	Решение


	Ниже перечислены варианты решения данной проблемы. Если вариант
	 решения не помогает, перейдите к следующему варианту.


		- Если пользовательская переменная изменена, отличается от
		 значения по умолчанию, необходимо обратно вернуть значение этих
		 переменных: %USERPROFILE%\AppData\Local\Temp.


		- Создайте нового пользователя, добавьте его в группу администраторов
		 и проведите установку или удаления под ним.


		- Отключите на время установки или удаления антивирусное
		 программное обеспечение.


[![](../opened.gif)![](../closed.gif)Откат
 установки или удаления при подключении через удаленный рабочий стол
 ](javascript:TextPopup(this))


	Проблема


	При установке или удалении через удаленный рабочий стол произошёл
	 откат установки или удаления. Проблема встречается при установке или
	 удалении комплектов Full, Standard и BIServer.


	Примечание. Данная
	 проблема может сопровождаться появлением окон «Координатор
	 установщика Windows» и «Установщик
	 Windows». Окно «Установщик
	 Windows» будет содержать сообщение «Install
	 server not responding».


	Причина


	Данная проблема может появиться при наличии в папке с инсталлятором
	 msi-файла инсталляционного пакета справочной системы (FP10Help_RU.msi или FP10Help_EN.msi).


	Решение


	Для корректной удаленной установки или удаления «Форсайт. Аналитическая платформа»
	 установите отдельно «Форсайт. Аналитическая платформа»
	 и справочную систему. Для отдельной установки или удаления «Форсайт. Аналитическая платформа»
	 в папке с инсталлятором «Форсайт. Аналитическая платформа»
	 должен отсутствовать msi-инсталлятор справочной системы. После установки
	 или удаления «Форсайт. Аналитическая платформа»
	 запустите msi-инсталлятор справочной системы (FP10Help_RU.msi
	 или FP10Help_EN.msi).


[![](../opened.gif)![](../closed.gif)Откат
 установки комплекта BIServer ](javascript:TextPopup(this))


	Проблема


	При установке комплекта BIServer произошел откат установки. Ошибка встречается
	 при установке с помощью инсталлятора FP10BIServerIIS_x64.exe.


	Причина


	Эта проблема может возникнуть, если при настройке IIS пользователем
	 не были установлены все нужные компоненты IIS.


	Решение


	Установите все нужные [компоненты
	 IIS](setup.chm::/UiWebSetup/Install_Web_on_Windows.htm). C описанием настройки IIS можете ознакомиться
	 в документе «Установка веб-приложения «Форсайт. Аналитическая платформа»».


[![](../opened.gif)![](../closed.gif)Не
 удалось найти файлы для установки требуемых компонентов
 ](javascript:TextPopup(this))


	Проблема


	В процессе установки «Форсайт. Аналитическая платформа»
	 появляется следующее сообщение об ошибке:


	Не удалось найти файлы
	 для установки требуемых компонентов Microsoft SQL Server Native Client
	 2008 R2 x64. Установка будет остановлена. Это может быть связано с
	 неудачной или прерванной загрузкой.


	Причина


	Эта проблема может возникнуть, если инсталлятор не смог найти пререквизит
	 Microsoft SQL Server Native Client 2008 R2, который должен находиться
	 в папке ISSetupPrerequisites.


	Решение


	При установке в одной папке с инсталлятором должна находиться папка
	 ISSetupPrerequisites, содержащая все необходимое программное обеспечение,
	 которое потребуется для работы продукта «Форсайт. Аналитическая платформа».
	 Ознакомьтесь со списком пререквизитов в [справке продукта
	 «Форсайт. Аналитическая платформа»](setup.chm::/01_SysReq/ISSetupPrerequisites.htm).


[![](../opened.gif)![](../closed.gif)Ошибка
 1402: Не удалось открыть ключ ](javascript:TextPopup(this))


	Проблема


	В процессе установки или удаления «Форсайт. Аналитическая платформа»
	 появляется следующее сообщение об ошибке:


	Ошибка 1402: Не удалось
	 открыть ключ: <ключ>. Проверьте наличие достаточных прав доступа
	 к этому ключу либо свяжитесь с системным инженером.


	Причина


	Эта проблема может возникнуть, если программа установки не может
	 открыть раздел реестра из-за отсутствия прав на этот раздел.


	Решение


	Ниже перечислены варианты решения данной проблемы. Если вариант
	 решения не помогает, перейдите к следующему варианту.


		- Откройте редактор реестра (regedit.exe). Раскройте ветвь
		 HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Windows\CurrentVersion\Installer\UserData\S-1-5-18\Components
		 (название S-1-5-18 на компьютере может быть другим). Найдите GUID
		 с набором цифр и букв, которые содержатся в сообщении об ошибке.
		 Вызовите контекстное меню у данного раздела GUID и выберите пункт
		 «Разрешения». С помощью
		 кнопки «Добавить» в окне
		 «Разрешения для группы»
		 добавьте учетные записи «Administrator», «Administrators» и «система».
		 Если имя текущей учетной записи администратора, отличается от
		 Administrator, введите текущее имя пользователя. Вернитесь в окно
		 «Разрешения для группы».
		 Выделите каждую добавленную учетную запись и убедитесь, что установлены
		 флажки «Полный доступ»
		 и «Чтение». Нажмите кнопку
		 «Дополнительно» и в открывшемся
		 окне «Дополнительные параметры
		 безопасности» выполните следующие действия:


			- На вкладке «Разрешения»
			 установите флажок «Заменить
			 все разрешения дочернего объекта на разрешения, наследуемые
			 от этого объекта» (при этом, флажок «Добавить
			 разрешения, наследуемые от родительских объектов» должен
			 быть установлен);


			- На вкладке «Владелец»
			 выделите имя «Administrators» и установите флажок «Заменить
			 владельца субконтейнеров и объектов»;


		- Воспользуйтесь утилитой от Microsoft — SubInACL и выполните
		 набор команд в следующей последовательности:


			- путь_до_файла/subinacl.exe /subkeyreg HKEY_LOCAL_MACHINE
			 /setowner=Администратор;


			- путь_до_файла/subinacl.exe /subkeyreg HKEY_CURRENT_USER
			 /setowner=Администратор;


			- путь_до_файла/subinacl.exe /subkeyreg HKEY_CLASSES_ROOT
			 /setowner=Администратор;


			- путь_до_файла/subinacl.exe /subkeyreg HKEY_LOCAL_MACHINE
			 /grant=Администратор=f /grant=system=f;


			- путь_до_файла/subinacl.exe /subkeyreg HKEY_CURRENT_USER
			 /grant=Администратор=f /grant=system=f;


			- путь_до_файла/subinacl.exe /subkeyreg HKEY_CLASSES_ROOT
			 /grant=Администратор=f /grant=system=f.


[![](../opened.gif)![](../closed.gif)Отсутствуют
 права на обновление операционной системы ](javascript:TextPopup(this))


	Проблема


	В процессе установки «Форсайт. Аналитическая платформа»
	 получен статус установки пререквизита «Неудачно». При попытке установить
	 пререквизит самостоятельно получено сообщение об ошибке:


	Отсутствуют права
	 на обновление <название_ОС>. Обратитесь к системному администратору.
	 / You do not have permission to update <OS name>. Please contact
	 your system administrator.


	Причина


	Эта проблема может возникнуть, если при установке пререквизитов
	 не хватило прав на объекты групповой политики.


	Подробнее об этом написано здесь [http://support.microsoft.com/kb/888791](http://support.microsoft.com/kb/888791).


	Решение


	Необходимо проверить права на объекты групповой политики:


		- Архивирование файлов и каталогов;


		- Восстановление файлов и каталогов;


		- Управление аудитом и журналом безопасности;


		- Назначение владельцем файлов и других объектов;


		- Завершение работы системы;


		- Отладка программ.


	Чтобы просмотреть и изменить права пользователя, выполните перечисленные
	 ниже действия:


		- Запустите редактор объектов групповой политики для локального
		 компьютера или домена. Дополнительные сведения описаны на веб-сайте
		 корпорации Microsoft в статье «[Консоль
		 управления групповыми политиками](https://technet.microsoft.com/ru-ru/library/dn265969(v%3dws.11).aspx)».


		- В разделе «Конфигурация компьютера» разверните элемент «Конфигурация
		 Windows».


		- Выберите элемент «Параметры безопасности», а затем — «Локальные
		 политики» и «Назначение прав пользователя».


		- Настройте права доступа на все необходимые для установки
		 объекты.


[![](../opened.gif)![](../closed.gif)Ошибка
 при создании репозитория с помощью консольного приложения RepoManager
 в ОС Linux](javascript:TextPopup(this))


	Проблема


	В процессе [создания
	 репозитория метаданных](setup.chm::/05_repomngr/linux/setup_createrepo_linux.htm) на сервере PostgreSQL при
	 запуске консольного приложения [RepoManager](setup.chm::/05_repomngr/repomanager_linux.htm)
	 с помощью скрипта RepoManager_start.sh в ОС Linux получено сообщение
	 об ошибке:


	Invalid locale string


	Причина


	Установлены несовместимые настройки локализации в операционной системе.


	Решение


	Проверьте используемую локаль системы, установленную в качестве
	 значения переменной LANG,
	 с помощью команды:


	locale


	Для изменения локали установите значение «en_US.UTF-8» переменной
	 LANG:


	export LANG="en_US.UTF-8"


	После выполнения действия повторно запустите RepoManager.


## Проблемы
 при обновлении


[![](../opened.gif)![](../closed.gif)Ошибка
 применения преобразований ](javascript:TextPopup(this))


	Проблема


	При обновлении существующей версии «Форсайт. Аналитическая платформа»
	 или при удалении «Форсайт. Аналитическая платформа»
	 с компьютера появляется сообщение об ошибке:


	Ошибка применения
	 преобразований. Проверьте правильности путей указанных преобразований»/«Error
	 applying transforms. Verify that the specified transform paths are
	 valid».


	Причина


	Проблема не связана с «Форсайт. Аналитическая платформа»,
	 это плавающая ошибка Windows Installer, который используется для установки.


	Решение


	Для исправления проблемы:


		- Запустите редактор реестра.


		- В ветке реестра HKEY_CLASSES_ROOT\Installer\Products\ найдите
		 раздел, относящийся к «Форсайт. Аналитическая платформа».
		 Поиск можно произвести по ключевому слову «Foresight Analytics Platform».


		- В найденном разделе удалите параметр «Transforms».


	Для того чтобы проблема не появлялась в будущем, рекомендуется выполнить
	 следующие действия:


		- Найдите ветку реестра HKEY_LOCAL_MACHINE\SOFTWARE\Policies\Microsoft\Windows\Installer
		 (если раздел Installer отсутствует, то создайте его).


		- В разделе Installer создайте параметр TransformsSecure
		 типа REG_DWORD со значением «0».


		- Отключите опцию «Кешировать
		 файлы преобразования в безопасном месте на рабочей станции»
		 в редакторе локальной групповой политики для приложения Windows
		 Installer:


			- Через меню «Пуск/Выполнить»
			 запустите приложение «gpedit.msc».


			- Перейдите в раздел «Политика локального компьютера\Конфигурация
			 компьютера\Административные шаблоны\Компоненты Windows\Windows
			 Installer».


			- Найдите указанную опцию и установите режим «Выключен».
			 При выполнении данного действия в реестре будет создан флаг
			 «TransformsSecure»
			 со значением 0.


		- Если вы используете удаленный доступ через операционную
		 систему, разработанную ранее Windows Server 2008, то также в ветке
		 реестра HKEY_LOCAL_MACHINE\SOFTWARE\Policies\Microsoft\Windows\Installer
		 создайте параметр EnableAdminTSRemote
		 типа REG_DWORD со значением «1».


См. также:


[Решение
 возможных проблем с продуктом «Форсайт. Аналитическая платформа»](../FAQ_title.htm)


		Справочная
		 система на версию 10.9
		 от 18/08/2025,
		 © ООО «ФОРСАЙТ»,
