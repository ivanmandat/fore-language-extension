# Настройка дополнительных параметров расчёта и сохранения данных: Алгоритм расчёта показателей, веб-приложение

Настройка дополнительных параметров расчёта и сохранения данных: Алгоритм расчёта показателей, веб-приложение
-


# Настройка дополнительных параметров расчёта и сохранения данных


Нажмите кнопку ![](b_params.png) «Дополнительные
 настройки динамики формулы» на [панели параметров
 расчёта](Formula.htm). Будут отображены дополнительные параметры расчёта и сохранения
 данных:


![](AdditionalParams.png)


Для задания периода расчёта формулы, отличного от [периода
 расчёта алгоритма](../Work/Calculation_period_management.htm):


	- Переведите переключатель «Задать
	 период расчёта» в активное состояние.


	- Установите флажок «Учитывать
	 период расчёта алгоритма» при необходимости. По умолчанию флажок
	 снят, расчёт формулы выполняется только по заданному периоду. При
	 установке флажка расчёт формулы выполняется с учётом пересечения периода
	 расчёта формулы и периода расчёта алгоритма.


Примечание.
 Использование флажка доступно только при активном состоянии переключателя
 «Задать период расчёта».


	- Выберите способ задания дат начала и окончания периода расчёта
	 формулы в полях «Начало» и
	 «Конец»:


		- Определённая дата.
		 Задайте определенную дату в редакторе дат, расположенном справа.
		 Формат даты в редакторе дат зависит от заданного [шага
		 динамики](Calculated_Element_Select.htm#frequency);


		- Дата начала расчёта алгоритма.
		 Задайте количество периодов в редакторе чисел, расположенном справа,
		 для смещения даты начала расчёта алгоритма. Дата начала расчёта
		 алгоритма совпадает с заданной [датой
		 начала периода расчёта](../Work/Calculation_period_management.htm) на панели параметров. При расчёте формулы
		 используется дата начала расчёта алгоритма с учётом смещения на
		 заданное количество периодов;


		- Дата окончания расчёта
		 алгоритма. Задайте количество периодов в редакторе чисел,
		 расположенном справа, для смещения даты окончания расчёта алгоритма.
		 Дата окончания расчёта алгоритма совпадает с заданной д[атой
		 окончания периода расчёта](../Work/Calculation_period_management.htm) на панели параметров. При расчёте
		 формулы используется дата окончания расчёта алгоритма с учётом
		 смещения на заданное количество периодов;


		- Дата начала расчёта формулы.
		 Задайте количество периодов в редакторе чисел, расположенном справа,
		 для смещения даты начала расчёта формулы. Дата начала расчёта
		 формулы совпадает с заданной датой начала периода расчёта на [панели параметров](../Work/Beginning_of_work.htm). При
		 расчёте формулы используется дата начала расчёта формулы с учётом
		 смещения на заданное количество периодов;


		- Дата окончания расчёта
		 формулы. Задайте количество периодов в редакторе чисел,
		 расположенном справа, для смещения даты окончания расчёта формулы.
		 Дата окончания расчёта формулы совпадает с заданной датой окончания
		 периода расчёта на [панели
		 параметров](../Work/Beginning_of_work.htm). При расчёте формулы используется дата окончания
		 расчёта формулы с учётом смещения на заданное количество периодов;


		- Дата из значения параметра.
		 Выберите параметр блока расчёта, настроенный на вкладке «[Параметры](../../Desktop/Calculation_block/Parameters.htm)». Задайте количество
		 периодов в редакторе чисел, расположенном справа, для смещения
		 даты из значения параметра. При расчёте формулы используется дата
		 из значения параметра с учётом смещения на заданное количество
		 периодов;


Примечание.
 При выборе атрибута справочника в раскрывающемся списке доступны атрибуты
 справочника типа «Дата» и «ДатаВремя».


		- Дата из текущей координаты.
		 Выберите атрибут справочника куба, который настроен для измерения
		 на вкладке «[Приёмник](../../Desktop/Calculation_block/Master_calculation_block_page_consumer.htm)»/«[Источники](Page_Sources.htm)» блока расчёта. Задайте
		 количество периодов в редакторе чисел, расположенном справа, для
		 смещения даты из текущего рассчитываемого значения элемента справочника.
		 При расчёте формулы используется дата из значения атрибута по
		 текущему рассчитываемому элементу указанного справочника с учётом
		 смещения на заданное число периодов.


Заданные периоды для смещения дат зависят
 от [шага динамики](Calculated_Element_Select.htm#frequency)
 и влияют на результат расчёта формулы. Например, если в формуле расчёта
 задан годовой шаг динамики с датой начала расчёта алгоритма (с 01.01.2020)
 и количеством периодов «2», то расчёт формулы будет начинаться с 01.01.2022.
 Если в формуле расчёта задан месячный шаг динамики с датой начала расчёта
 алгоритма (с 01.01.2020) и количеством периодов «2», то расчёт формулы
 будет начинаться с 01.03.2022.


Для задания периода сохранения результатов расчёта:


	- Переведите переключатель «Задать
	 период сохранения результатов расчёта» в активное состояние.


	- Выберите способ задания дат начала и окончания периода сохранения
	 результатов расчёта в полях «Начало»
	 и «Конец». Способы задания
	 дат аналогичны способам задания дат начала и окончания периода расчёта
	 формулы.


После выполнения действий будет задан период сохранения результатов
 расчёта. Результаты расчёта будут сохраняться только в указанном диапазоне
 дат после расчёта алгоритма. Если период сохранения результатов расчёта
 не задан, то результаты расчёта сохраняются с даты начала расчёта алгоритма
 до даты окончания.


Для сохранения только ненулевых значений, полученных в результате расчёта
 блока, снимите флажок «Сохранять нули».
 По умолчанию флажок установлен.


Для замены нулями пустых значений операндов, участвующих в формуле,
 установите флажок «Заменять пустые значения
 операндов нулями». По умолчанию флажок снят, в расчёте используются
 пустые значения операндов.


Для выбора способа расчёта формул в блоке используйте флажок «Поточечный расчёт». По умолчанию
 флажок снят и используется векторный расчёт, то есть формулы рассчитываются
 одновременно по всем точкам данных. При установленном флажке выполняется
 последовательный расчёт формул в каждой точке данных: сначала формулы
 рассчитываются по первой точке данных, затем по второй точке и так далее.


Для задания формул, которые будут действовать в определённые периоды
 времени выполните следующие действия:


	- Переведите переключатель «Задать
	 несколько периодов расчёта» в активное состояние. В области
	 формул станут доступны кнопки для создания дополнительных периодов
	 и их настройки.


	- Нажмите кнопку ![](../Work/b_add.png) «Добавить
	 промежуточную дату расчёта» для создания дополнительных периодов
	 расчёта. При добавлении промежуточной даты расчёта, период в котором
	 она находится, разделяется на два периода: выбранная дата входит в
	 первый период, расчёт второго периода начинается со следующий даты
	 от выбранной (со следующего года, квартала и т.д. в зависимости от
	 выбранного шага динамики):


![](periods_web.png)


В заголовках вкладок будут использоваться
 сокращения «Нр» - начало расчётного периода, заданное для алгоритма или
 в настройках блока расчёта; «Кр» - конец расчётного периода, заданный
 для алгоритма или в настройках блока расчёта.


	- Выберите период и задайте формулу расчёта. Для каждого периода
	 можно задавать свою формулу.


Для изменения промежуточной даты расчёта выберите вкладку с периодом
 и нажмите кнопку ![](edit.png)
 «Изменить промежуточную дату расчёта».


См. также:


[Настройка
 формул расчёта](Formula.htm)


		Справочная
		 система на версию 10.9
		 от 18/08/2025,
		 © ООО «ФОРСАЙТ»,
