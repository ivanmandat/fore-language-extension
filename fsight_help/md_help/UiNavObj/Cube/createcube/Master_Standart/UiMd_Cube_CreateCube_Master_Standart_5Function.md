# Специальные функции

Специальные функции
-


# Специальные функции


Для составления выражений вычисляемых фактов можно использовать специальные
 функции:


[![](../../../Opened.gif)![](../../../Closed.gif)DIF](javascript:TextPopup(this))


	Синтаксис:


	DIF(F, L1, L2)


	где:


		- F. Факт;


		- L1 и L2.
		 Наименования уровней.


	Описание:


	Функция возвращает разность текущего и предыдущего значения факта
	 F по уровню L1
	 в рамках периода вычитания L2.


	Пример:


	DIF[@[1],MONTH,YEAR]


	возвращает разность текущего и предыдущего значения факта с идентификатором
	 @[1] по уровню «Месяц» в рамках года.


[![](../../../Opened.gif)![](../../../Closed.gif)DIF_S](javascript:TextPopup(this))


	Синтаксис:


	DIF_S(F, L1, L2)


	где:


		- F. Факт;


		- L1 и L2.
		 Наименования уровней.


	Описание:


	Функция возвращает разность текущего
	 и предыдущего значения факта F по уровню L1 в рамках периода вычитания
	 L2. Данная функция работает только для отмеченных элементов измерения.


[![](../../../Opened.gif)![](../../../Closed.gif)FILL](javascript:TextPopup(this))


	Синтаксис:


	FILL(F, L1, L2)


	где:


		- F. Факт;


		- L1 и L2.
		 Наименования уровней.


	Описание:


	Функция возвращает значение последнего непустого элемента факта
	 F по уровню измерения L1 в рамках периода накопления
	 L2.


	Пример:


	FILL[@[1],QUART,YEAR]


	возвращает последнее непустое значение факта с идентификатором @[1]
	 по уровню «Квартал» в рамках года.


[![](../../../Opened.gif)![](../../../Closed.gif)FILL_S](javascript:TextPopup(this))


	Синтаксис:


	FILL_S(F, L1, L2)


	где:


		- F. Факт;


		- L1 и L2.
		 Наименования уровней.


	Описание:


	Функция возвращает значение последнего непустого элемента факта
	 F по уровню измерения L1 в рамках периода накопления
	 L2. Данная функция работает
	 только для отмеченных элементов измерения.


[![](../../../Opened.gif)![](../../../Closed.gif)FIRST](javascript:TextPopup(this))


	Синтаксис:


	FIRST(F, L1, L2)


	где:


		- F. Факт;


		- L1 и L2.
		 Наименования уровней.


	Описание:


	Функция возвращает значение первого элемента факта F
	 по уровню измерения L1 в
	 рамках периода L2.


	Пример:


	FIRST[@[1],QUART,YEAR]


	возвращает значение первого элемента факта с идентификатором @[1]
	 по уровню «Квартал» в рамках года.


[![](../../../Opened.gif)![](../../../Closed.gif)FIRST_S](javascript:TextPopup(this))


	Синтаксис:


	FIRST_S(F, L1, L2)


	где:


		- F. Факт;


		- L1 и L2.
		 Наименования уровней.


	Описание:


	Функция возвращает значение первого
	 элемента факта F по уровню
	 измерения L1 в рамках периода
	 L2. Данная функция работает
	 только для отмеченных элементов измерения.


[![](../../../Opened.gif)![](../../../Closed.gif)LAST](javascript:TextPopup(this))


	Синтаксис:


	LAST(F, L1, L2)


	где:


		- F. Факт;


		- L1 и L2.
		 Наименования уровней.


	Описание:


	Функция возвращает значение последнего элемента факта F
	 по уровню измерения L1 в
	 рамках периода L2.


	Пример:


	LAST[@[1],QUART,YEAR]


	возвращает значение последнего элемента факта с идентификатором
	 @[1] по уровню «Квартал» в рамках года.


[![](../../../Opened.gif)![](../../../Closed.gif)LAST_S](javascript:TextPopup(this))


	Синтаксис:


	LAST_S(F, L1, L2)


	где:


		- F. Факт;


		- L1 и L2.
		 Наименования уровней.


	Описание:


	Функция возвращает значение последнего элемента факта F
	 по уровню измерения L1 в
	 рамках периода L2. Данная
	 функция работает только для отмеченных элементов измерения.


[![](../../../Opened.gif)![](../../../Closed.gif)SUM](javascript:TextPopup(this))


	Синтаксис:


	SUM(F, L1, L2)


	где:


		- F. Факт;


		- L1 и L2.
		 Наименования уровней.


	Описание:


	Функция возвращает накопленную сумму факта F
	 по уровню L1 в рамках периода
	 накопления L2. Период накопления
	 представляет собой уровень, в рамках которого происходит накопление.
	 Накопление начинается заново с началом каждого периода накопления.
	 Если в качестве выражения будет указана строка, то функция возвратит
	 0.


	Примеры:


	SUM[@[1],MONTH,YEAR]


	возвращает накопленную сумму факта с идентификатором @[1] по уровню
	 «Месяц» в рамках года.


	SUM[@[1],MONTH,ROOT]


	возвращает накопленную сумму факта с идентификатором @[1] в рамках
	 всего календаря.


[![](../../../Opened.gif)![](../../../Closed.gif)SUM_S](javascript:TextPopup(this))


	Синтаксис:


	SUM_S(F, L1, L2)


	где:


		- F. Факт;


		- L1 и L2.
		 Наименования уровней.


	Описание:


	Функция возвращает накопленную сумму факта F
	 по уровню L1 в рамках периода
	 накопления L2. Данная функция
	 работает только для отмеченных элементов измерения.


[![](../../../Opened.gif)![](../../../Closed.gif)TOTAL](javascript:TextPopup(this))


	Синтаксис:


	TOTAL(F, DIM)


	где:


		- F. Факт;


		- DIM. Идентификатор
		 измерения.


	Описание:


	Функция возвращает значение элемента факта F
	 для родительского элемента по измерению с идентификатором DIM.
	 Функция может быть использована для составления формулы расчёта соотношения
	 долей элементов [вычисляемого
	 факта](UiMd_Cube_CreateCube_Master_Standart_5.htm). Для измерения, используемого в формуле, должна быть настроена
	 [агрегация](UiMd_Cube_CreateCube_Master_Standart_7.htm).


	Пример:


	F/TOTAL[F,DIM]


	возвращает доли элементов вычисляемого факта с идентификатором
	 F для родительского элемента
	 по измерению с идентификатором DIM.


В качестве уровней следует использовать только уровни календарного справочника.
 Для их задания используются строковые константы:


	- DAY. День;


	- WEEK. Неделя;


	- MONTH. Месяц;


	- QUART. Квартал;


	- HYEAR. Полугодие;


	- NINEMONTH. 9 месяцев;


	- YEAR. Год;


	- ROOT. Корень.


См. также:


[Вычисляемые факты](UiMd_Cube_CreateCube_Master_Standart_5.htm)


		Справочная
		 система на версию 10.9
		 от 18/08/2025,
		 © ООО «ФОРСАЙТ»,
