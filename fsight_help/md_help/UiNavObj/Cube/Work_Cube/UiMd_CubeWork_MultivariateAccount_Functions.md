# Специальные функции

Специальные функции
-


# Специальные функции


Для составления выражений для координат (точек) куба-назначения можно
 использовать специальные функции, которые можно выбрать в списке «Функции».


## Операции


В данной папке отображены элементы, реализующие стандартные операции.


		 Операция
		 Краткое описание


		 +
		 Операция сложения.


		 -
		 Операция вычитания.


		 *
		 Операция умножения.


		 /
		 Операция деления.


		 >
		 Знак сравнения больше.


		 <
		 Знак сравнения меньше.


		 >=
		 Знак сравнения больше или равно.


		 <=
		 Знак сравнения меньше.


		 =
		 Знак равенства.


## Математические


В данной папке отображены элементы, реализующие математические функции.


		 Функция
		 Синтаксис
		 Описание


		 Nz
		 Nz(Term, E)
		 Возвращает результат выражения, если значение координаты куба-источника
		 равно NoData, в противном случае возвращает значение координаты
		 куба-источника.

Параметры:


			- Term - координата куба-источника;


			- E - выражение.


		 Power
		 Power(Term, K)
		 Возвращает результат возведения вещественного числа в вещественную
		 степень.

Параметры:


			- Term - координата куба-источника;


			- K - степень.


		 Abs
		 Abs(Term)
		 Возвращает абсолютное значение (модуль) вещественного числа.


Параметр:


			- Term - координата куба источника.


		 Trunc
		 Trunc(Term, K)
		 Отбрасывает дробную часть числа с заданной точностью.

Параметры:


			- Term - координата куба-источника;


			- K - точность.


		 Round
		 Round(Term, K)
		 Округляет число до указанного количества десятичных разрядов.
		 Если K меньше 0, то число округляется слева от десятичной запятой.
		 Если K равно 0, то число округляется до ближайшего целого. Если
		 K больше 0, то число округляется до указанного количества десятичных
		 разрядов справа от десятичной запятой.

Параметры:


			- Term - координата куба-источника;


			- K - количество десятичных
			 разрядов, до которого нужно округлить число.


		 Exp
		 Exp(K)
		 Возвращает результат возведения числа «е» (основание натурального
		 логарифма) в заданную степень.

Параметр:


			- K - степень.


		 Ln
		 Ln(Term)
		 Возвращает натуральный логарифм для заданного числа.

Параметр:


			- Term - координата куба источника.


		 MAvg
		 MAvg(Term1, Term2, Term3, Term4)
		 Вычисляет среднее значение заданных элементов.

Параметры:


			- Term1, Term2, Term3, Term4
			 - координаты куба источника.


## Логические


В данной папке отображены элементы, реализующие логические операции.


		 Функция
		 Синтаксис
		 Описание


		 AND
		 AND
		 Логическое «И».


		 OR
		 OR
		 Логическое «ИЛИ».


		 NOT
		 NOT
		 Отрицание.


		 IIF
		 IIF(<условие>,<выражение, если условие верно>,<выражение,
		 если условие неверно>);
		 Условный оператор.


		 IsNull
		 IsNull(Term, V1, V2)
		 Функция возвращает значение V1, в случае если заданная координата
		 куба (Term) равна пустому значению (NULL) или запись для нее отсутствует,
		 иначе возвращает V2.

Параметры:


			- Term - координата куба-источника;


			- V1, V2 - значения, в качестве
			 значений также можно использовать координаты куба-источника.


## Остальные


		 Функция
		 Синтаксис
		 Описание


		 Min
		 Min(Term1, Term2)
		 Выбирает наименьшее значение из двух сравниваемых элементов.


Параметры:


			- Term1, Term2 - координаты
			 куба источника.


		 Max
		 Max(Term1, Term2)
		 Выбирает наибольшее значение из двух сравниваемых элементов.


Параметры:


			- Term1, Term2 - координаты
			 куба источника.


		 MMin
		 MMin(Term1, Term2, …TermN)
		 Выбирает наименьшее значение из массива.

Параметры:


			- Term1, Term2, ...TermN -
			 координаты куба источника.


		 MMax
		 MMax(Term1, Term2, …TermN)
		 Выбирает наибольшее значение из массива.

Параметры:


			- Term1, Term2, ...TermN -
			 координаты куба источника.


		 Shift
		 Shift(Term, P, К)
		 Результатом вычисления функции является значение координаты
		 куба-источника, но сдвинутое по дате на заданное количество шагов.


Для использования данной функции следует на странице
		 [Структура](UiMd_CubeWork_MultivariateAccount_Structure.htm)
		 мастера многомерного расчета у календарного измерения куба-источника
		 в контекстном меню установить флаг «Возможность
		 сдвига по дате (SHIFT)».

Параметры:


			- Term - координата куба-источника;


			- P - период: Year, Quart,
			 Month, Day;


			- K - количество шагов по
			 указанному периоду (допустимы отрицательные значения).


		 NoData
		 NoData(Term, С1, С2)


		 Функция возвращает:


			- значение заданной координаты
			 куба, если для нее присутствует запись и данная запись не
			 равна NULL;


			- константу С1, если для заданной
			 координаты куба отсутствует запись;


			- константу С2, если значение
			 заданной координаты куба равно NULL.


		Параметры:


			- Term - координата куба-источника;


			- С1, С2 - константы.


		Примечание.
		 Следует различать пустое значение и отсутствие записи. Под пустым
		 значением подразумевается наличие записи, но значение записи равно
		 NULL.


		 Day
		 -
		 Используется для указания периода функции Shift.


		 Month
		 -
		 Используется для указания периода функции Shift.


		 Quart
		 -
		 Используется для указания периода функции Shift.


		 Year
		 -
		 Используется для указания периода функции Shift.


		 Check
		 Check(Term)
		 Используется для проверки значения по указанной координате.
		 Если по указанной координате хранится пустое значение (NULL),
		 то вычисление всей формулы не производится.

Параметр:


			- Term - координата куба источника.


## Работа со множествами


Функции предназначены для работы с множеством значений по координате
 куба. Для работы функций предполагается, что таблица, на которой построен
 куб, включает в себя на один показатель больше, чем количество измерений
 в кубе. В качестве операнда функции выступает координата значения куба,
 которая за счет отсутствующего в кубе измерения рассматривается как ряд
 значений.


Примечание.
 Если координаты куба источника, используемые в качестве параметров в функциях
 по работе со множествами, являются вычислимыми, т.е. для них заданы формулы
 в многомерном расчете, в котором используется флаг «Учитывать
 зависимость формул друг от друга», то результатом функции со множеством
 будет «0».


		 Функция
		 Синтаксис
		 Описание


		 DMin
		 DMin(Term)
		 Выбирает наименьшее значение из ряда значений в координате
		 куба.

Параметр:


			- Term - координата куба источника.


		 DMax
		 DMax(Term)
		 Выбирает наибольшее значение из ряда значений в координате
		 куба.

Параметр:


			- Term - координата куба источника.


		 DMedian
		 DMedian(Term)
		 Вычисляет медиану по значениям из ряда значений в координате
		 куба.

Параметр:


			- Term - координата куба источника.


		 DSum
		 DSum(Term)
		 Вычисляет сумму значений из ряда значений в координате куба.


Параметр:


			- Term - координата куба источника.


		 DCnt
		 DCnt(Term)
		 Подсчитывает количество значений из ряда значений в координате
		 куба.

Параметр:


			- Term - координата куба источника.


		 DCntD
		 DCntD(Term)
		 Подсчитывает количество уникальных значений из ряда значений
		 в координате куба.

Параметр:


			- Term - координата куба источника.


		 DAvg
		 DAvg(Term)
		 Вычисляет среднее по значения из ряда значений в координате
		 куба.

Параметр:


			- Term - координата куба источника.


Примечание.
 Работа со множествами поддерживается для СУБД Microsoft SQL Server и Oracle.


См. также:


[Редактирование
 формул](UiMd_CubeWork_MultivariateAccount_EditFormula.htm) | [Многомерный расчёт на
 сервере БД](UiMd_CubeWork_MultivariateAccount.htm)


		Справочная
		 система на версию 10.9
		 от 18/08/2025,
		 © ООО «ФОРСАЙТ»,
